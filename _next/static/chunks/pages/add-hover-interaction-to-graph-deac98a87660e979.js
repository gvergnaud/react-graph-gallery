(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3269],{4273:function(r,e,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/add-hover-interaction-to-graph",function(){return o(9491)}])},6260:function(r,e,o){"use strict";o.d(e,{U:function(){return i}});var u=o(5893),a=o(7294);let i=r=>{let{startOpen:e,title:o,children:i,toc:s}=r,[p,t]=(0,a.useState)(e),n=p?"max-h-full":"max-h-0",c=p?"overflow-visible":"overflow-hidden";return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)("h2",{className:"cursor-pointer",onClick:()=>t(!p),id:s,children:[p?(0,u.jsx)("span",{className:"text-purple-700 w-4 mr-2 hover:text-purple-900 inline-block",children:"-"}):(0,u.jsx)("span",{className:"text-purple-700 w-4 mr-2 hover:text-purple-900 inline-block",children:"+"}),o]}),(0,u.jsx)("div",{className:"transition-max-height ease-in duration-300  "+n+" "+c,children:i})]})}},9491:function(r,e,o){"use strict";o.r(e),o.d(e,{default:function(){return w}});var u=o(5893);o(7294);var a=o(153),i=o(9965),s=o(2594),p=o(1122),t=o(1651),n=o(6260),c=o(3572),l=o(8023),g=o(9567),h=o(615),x=o(5058);let d=[{subGroup:"Afghanistan",group:"Asia",y:43.828,z:31889923,x:974.5803384},{subGroup:"Albania",group:"Europe",y:76.423,z:3600523,x:5937.029526},{subGroup:"Algeria",group:"Africa",y:72.301,z:33333216,x:6223.367465},{subGroup:"Angola",group:"Africa",y:42.731,z:12420476,x:4797.231267},{subGroup:"Argentina",group:"Americas",y:75.32,z:40301927,x:12779.37964},{subGroup:"Australia",group:"Oceania",y:81.235,z:20434176,x:34435.36744},{subGroup:"Austria",group:"Europe",y:79.829,z:8199783,x:36126.4927},{subGroup:"Bahrain",group:"Asia",y:75.635,z:708573,x:29796.04834},{subGroup:"Bangladesh",group:"Asia",y:64.062,z:150448339,x:1391.253792},{subGroup:"Belgium",group:"Europe",y:79.441,z:10392226,x:33692.60508},{subGroup:"Benin",group:"Africa",y:56.728,z:8078314,x:1441.284873},{subGroup:"Bolivia",group:"Americas",y:65.554,z:9119152,x:3822.137084},{subGroup:"Bosnia and Herzegovina",group:"Europe",y:74.852,z:4552198,x:7446.298803},{subGroup:"Botswana",group:"Africa",y:50.728,z:1639131,x:12569.85177},{subGroup:"Brazil",group:"Americas",y:72.39,z:190010647,x:9065.800825},{subGroup:"Bulgaria",group:"Europe",y:73.005,z:7322858,x:10680.79282},{subGroup:"Burkina Faso",group:"Africa",y:52.295,z:14326203,x:1217.032994},{subGroup:"Burundi",group:"Africa",y:49.58,z:8390505,x:430.0706916},{subGroup:"Cambodia",group:"Asia",y:59.723,z:14131858,x:1713.778686},{subGroup:"Cameroon",group:"Africa",y:50.43,z:17696293,x:2042.09524},{subGroup:"Canada",group:"Americas",y:80.653,z:33390141,x:36319.23501},{subGroup:"Central African Republic",group:"Africa",y:44.741,z:4369038,x:706.016537},{subGroup:"Chad",group:"Africa",y:50.651,z:10238807,x:1704.063724},{subGroup:"Chile",group:"Americas",y:78.553,z:16284741,x:13171.63885},{subGroup:"China",group:"Asia",y:72.961,z:1318683096,x:4959.114854},{subGroup:"Colombia",group:"Americas",y:72.889,z:44227550,x:7006.580419},{subGroup:"Comoros",group:"Africa",y:65.152,z:710960,x:986.1478792},{subGroup:"Congo, Dem. Rep.",group:"Africa",y:46.462,z:64606759,x:277.5518587},{subGroup:"Congo, Rep.",group:"Africa",y:55.322,z:3800610,x:3632.557798},{subGroup:"Costa Rica",group:"Americas",y:78.782,z:4133884,x:9645.06142},{subGroup:"Cote d'Ivoire",group:"Africa",y:48.328,z:18013409,x:1544.750112},{subGroup:"Croatia",group:"Europe",y:75.748,z:4493312,x:14619.22272},{subGroup:"Cuba",group:"Americas",y:78.273,z:11416987,x:8948.102923},{subGroup:"Czech Republic",group:"Europe",y:76.486,z:10228744,x:22833.30851},{subGroup:"Denmark",group:"Europe",y:78.332,z:5468120,x:35278.41874},{subGroup:"Djibouti",group:"Africa",y:54.791,z:496374,x:2082.481567},{subGroup:"Dominican Republic",group:"Americas",y:72.235,z:9319622,x:6025.374752},{subGroup:"Ecuador",group:"Americas",y:74.994,z:13755680,x:6873.262326},{subGroup:"Egypt",group:"Africa",y:71.338,z:80264543,x:5581.180998},{subGroup:"El Salvador",group:"Americas",y:71.878,z:6939688,x:5728.353514},{subGroup:"Equatorial Guinea",group:"Africa",y:51.579,z:551201,x:12154.08975},{subGroup:"Eritrea",group:"Africa",y:58.04,z:4906585,x:641.3695236},{subGroup:"Ethiopia",group:"Africa",y:52.947,z:76511887,x:690.8055759},{subGroup:"Finland",group:"Europe",y:79.313,z:5238460,x:33207.0844},{subGroup:"France",group:"Europe",y:80.657,z:61083916,x:30470.0167},{subGroup:"Gabon",group:"Africa",y:56.735,z:1454867,x:13206.48452},{subGroup:"Gambia",group:"Africa",y:59.448,z:1688359,x:752.7497265},{subGroup:"Germany",group:"Europe",y:79.406,z:82400996,x:32170.37442},{subGroup:"Ghana",group:"Africa",y:60.022,z:22873338,x:1327.60891},{subGroup:"Greece",group:"Europe",y:79.483,z:10706290,x:27538.41188},{subGroup:"Guatemala",group:"Americas",y:70.259,z:12572928,x:5186.050003},{subGroup:"Guinea",group:"Africa",y:56.007,z:9947814,x:942.6542111},{subGroup:"Guinea-Bissau",group:"Africa",y:46.388,z:1472041,x:579.231743},{subGroup:"Haiti",group:"Americas",y:60.916,z:8502814,x:1201.637154},{subGroup:"Honduras",group:"Americas",y:70.198,z:7483763,x:3548.330846},{subGroup:"Hong Kong, China",group:"Asia",y:82.208,z:6980412,x:39724.97867},{subGroup:"Hungary",group:"Europe",y:73.338,z:9956108,x:18008.94444},{subGroup:"Iceland",group:"Europe",y:81.757,z:301931,x:36180.78919},{subGroup:"India",group:"Asia",y:64.698,z:1110396331,x:2452.210407},{subGroup:"Indonesia",group:"Asia",y:70.65,z:223547e3,x:3540.651564},{subGroup:"Iran",group:"Asia",y:70.964,z:69453570,x:11605.71449},{subGroup:"Iraq",group:"Asia",y:59.545,z:27499638,x:4471.061906},{subGroup:"Ireland",group:"Europe",y:78.885,z:4109086,x:40675.99635},{subGroup:"Israel",group:"Asia",y:80.745,z:6426679,x:25523.2771},{subGroup:"Italy",group:"Europe",y:80.546,z:58147733,x:28569.7197},{subGroup:"Jamaica",group:"Americas",y:72.567,z:2780132,x:7320.880262},{subGroup:"Japan",group:"Asia",y:82.603,z:127467972,x:31656.06806},{subGroup:"Jordan",group:"Asia",y:72.535,z:6053193,x:4519.461171},{subGroup:"Kenya",group:"Africa",y:54.11,z:35610177,x:1463.249282},{subGroup:"Korea, Dem. Rep.",group:"Asia",y:67.297,z:23301725,x:1593.06548},{subGroup:"Korea, Rep.",group:"Asia",y:78.623,z:49044790,x:23348.13973},{subGroup:"Kuwait",group:"Asia",y:77.588,z:2505559,x:47306.98978},{subGroup:"Lebanon",group:"Asia",y:71.993,z:3921278,x:10461.05868},{subGroup:"Lesotho",group:"Africa",y:42.592,z:2012649,x:1569.331442},{subGroup:"Liberia",group:"Africa",y:45.678,z:3193942,x:414.5073415},{subGroup:"Libya",group:"Africa",y:73.952,z:6036914,x:12057.49928},{subGroup:"Madagascar",group:"Africa",y:59.443,z:19167654,x:1044.770126},{subGroup:"Malawi",group:"Africa",y:48.303,z:13327079,x:759.3499101},{subGroup:"Malaysia",group:"Asia",y:74.241,z:24821286,x:12451.6558},{subGroup:"Mali",group:"Africa",y:54.467,z:12031795,x:1042.581557},{subGroup:"Mauritania",group:"Africa",y:64.164,z:3270065,x:1803.151496},{subGroup:"Mauritius",group:"Africa",y:72.801,z:1250882,x:10956.99112},{subGroup:"Mexico",group:"Americas",y:76.195,z:108700891,x:11977.57496},{subGroup:"Mongolia",group:"Asia",y:66.803,z:2874127,x:3095.772271},{subGroup:"Montenegro",group:"Europe",y:74.543,z:684736,x:9253.896111},{subGroup:"Morocco",group:"Africa",y:71.164,z:33757175,x:3820.17523},{subGroup:"Mozambique",group:"Africa",y:42.082,z:19951656,x:823.6856205},{subGroup:"Myanmar",group:"Asia",y:62.069,z:47761980,x:944},{subGroup:"Namibia",group:"Africa",y:52.906,z:2055080,x:4811.060429},{subGroup:"Nepal",group:"Asia",y:63.785,z:28901790,x:1091.359778},{subGroup:"Netherlands",group:"Europe",y:79.762,z:16570613,x:36797.93332},{subGroup:"New Zealand",group:"Oceania",y:80.204,z:4115771,x:25185.00911},{subGroup:"Nicaragua",group:"Americas",y:72.899,z:5675356,x:2749.320965},{subGroup:"Niger",group:"Africa",y:56.867,z:12894865,x:619.6768924},{subGroup:"Nigeria",group:"Africa",y:46.859,z:135031164,x:2013.977305},{subGroup:"Norway",group:"Europe",y:80.196,z:4627926,x:49357.19017},{subGroup:"Oman",group:"Asia",y:75.64,z:3204897,x:22316.19287},{subGroup:"Pakistan",group:"Asia",y:65.483,z:169270617,x:2605.94758},{subGroup:"Panama",group:"Americas",y:75.537,z:3242173,x:9809.185636},{subGroup:"Paraguay",group:"Americas",y:71.752,z:6667147,x:4172.838464},{subGroup:"Peru",group:"Americas",y:71.421,z:28674757,x:7408.905561},{subGroup:"Philippines",group:"Asia",y:71.688,z:91077287,x:3190.481016},{subGroup:"Poland",group:"Europe",y:75.563,z:38518241,x:15389.92468},{subGroup:"Portugal",group:"Europe",y:78.098,z:10642836,x:20509.64777},{subGroup:"Puerto Rico",group:"Americas",y:78.746,z:3942491,x:19328.70901},{subGroup:"Reunion",group:"Africa",y:76.442,z:798094,x:7670.122558},{subGroup:"Romania",group:"Europe",y:72.476,z:22276056,x:10808.47561},{subGroup:"Rwanda",group:"Africa",y:46.242,z:8860588,x:863.0884639},{subGroup:"Sao Tome and Principe",group:"Africa",y:65.528,z:199579,x:1598.435089},{subGroup:"Saudi Arabia",group:"Asia",y:72.777,z:27601038,x:21654.83194},{subGroup:"Senegal",group:"Africa",y:63.062,z:12267493,x:1712.472136},{subGroup:"Serbia",group:"Europe",y:74.002,z:10150265,x:9786.534714},{subGroup:"Sierra Leone",group:"Africa",y:42.568,z:6144562,x:862.5407561},{subGroup:"Singapore",group:"Asia",y:79.972,z:4553009,x:47143.17964},{subGroup:"Slovak Republic",group:"Europe",y:74.663,z:5447502,x:18678.31435},{subGroup:"Slovenia",group:"Europe",y:77.926,z:2009245,x:25768.25759},{subGroup:"Somalia",group:"Africa",y:48.159,z:9118773,x:926.1410683},{subGroup:"South Africa",group:"Africa",y:49.339,z:43997828,x:9269.657808},{subGroup:"Spain",group:"Europe",y:80.941,z:40448191,x:28821.0637},{subGroup:"Sri Lanka",group:"Asia",y:72.396,z:20378239,x:3970.095407},{subGroup:"Sudan",group:"Africa",y:58.556,z:42292929,x:2602.394995},{subGroup:"Swaziland",group:"Africa",y:39.613,z:1133066,x:4513.480643},{subGroup:"Sweden",group:"Europe",y:80.884,z:9031088,x:33859.74835},{subGroup:"Switzerland",group:"Europe",y:81.701,z:7554661,x:37506.41907},{subGroup:"Syria",group:"Asia",y:74.143,z:19314747,x:4184.548089},{subGroup:"Taiwan",group:"Asia",y:78.4,z:23174294,x:28718.27684},{subGroup:"Tanzania",group:"Africa",y:52.517,z:38139640,x:1107.482182},{subGroup:"Thailand",group:"Asia",y:70.616,z:65068149,x:7458.396327},{subGroup:"Togo",group:"Africa",y:58.42,z:5701579,x:882.9699438},{subGroup:"Trinidad and Tobago",group:"Americas",y:69.819,z:1056608,x:18008.50924},{subGroup:"Tunisia",group:"Africa",y:73.923,z:10276158,x:7092.923025},{subGroup:"Turkey",group:"Europe",y:71.777,z:71158647,x:8458.276384},{subGroup:"Uganda",group:"Africa",y:51.542,z:29170398,x:1056.380121},{subGroup:"United Kingdom",group:"Europe",y:79.425,z:60776238,x:33203.26128},{subGroup:"United ys",group:"Americas",y:78.242,z:301139947,x:42951.65309},{subGroup:"Uruguay",group:"Americas",y:76.384,z:3447496,x:10611.46299},{subGroup:"Venezuela",group:"Americas",y:73.747,z:26084662,x:11415.80569},{subGroup:"Vietnam",group:"Asia",y:74.249,z:85262356,x:2441.576404},{subGroup:"West Bank and Gaza",group:"Asia",y:73.422,z:4018332,x:3025.349798},{subGroup:"Yemen, Rep.",group:"Asia",y:62.698,z:22211743,x:2280.769906},{subGroup:"Zambia",group:"Africa",y:42.384,z:11746035,x:1271.211593},{subGroup:"Zimbabwe",group:"Africa",y:43.487,z:12311143,x:469.7092981}];var b=o(7875),y=o(3230),z=o.n(y);let m=r=>{let{width:e,height:o,data:a}=r,i=b.BYU().domain([35,85]).range([o,0]),s=b.BYU().domain([-3e3,55e3]).range([0,e]),p=a.map((r,e)=>(0,u.jsx)("circle",{r:8,cx:s(r.x),cy:i(r.y),className:z().scatterplotCircle},e));return(0,u.jsxs)("div",{className:"relative",children:[(0,u.jsx)("svg",{width:e,height:o,style:{position:"absolute",top:0,left:0,borderWidth:"0px 0px 1px 1px",backgroundColor:"white"},children:p}),(0,u.jsx)("svg",{width:e,height:o,style:{position:"absolute",top:0,left:0,borderWidth:"0px 0px 1px 1px",backgroundColor:"white"},children:p})]})},G=r=>{let{width:e=700,height:o=400}=r;return(0,u.jsx)(m,{data:d,width:e,height:o})};var A=o(5789),f=o(390);let v=(0,u.jsxs)("p",{children:[(0,u.jsx)("b",{children:"Interactivity"})," is an important part of dataviz when working in the browser. Adding a hover effect can improve the user experience by highlighting a series on the chart. Here are a couple way to implement it, always keeping performances in mind."]}),j="\n.circle {\n  fill-opacity: 1;\n}\n.svgArea:hover .circle {\n  fill-opacity: .1;\n}\n.svgArea .circle:hover {\n  fill-opacity: 1;\n}\n".trim();function w(){return(0,u.jsxs)(a.A,{title:"Hover interaction on a chart with React",seoDescription:"How to add a hover effect on a chart built with d3.js and React",children:[(0,u.jsx)(i.Z,{title:"Hover interaction on a chart with React",description:v}),(0,u.jsx)("div",{className:"py-6 grey-section full-bleed flex flex-row gap-x-8 justify-center items-center",children:(0,u.jsx)("div",{className:"p-2 bg-white",children:(0,u.jsx)(l.h,{width:250,height:250,data:g.a})})}),(0,u.jsx)("div",{className:"flex justify-center",children:(0,u.jsxs)(h.Y,{children:["Experimenting with different highlight strategies on a scatterplot. From left to right: using a ",(0,u.jsx)("code",{children:":hover"})," pseudo class | using the pseudo class AND dimming."]})}),(0,u.jsxs)(n.U,{title:(0,u.jsxs)("span",{children:["Using the ",(0,u.jsx)("code",{children:":hover"})," css pseudo class"]}),startOpen:!0,children:[(0,u.jsxs)("p",{children:["A CSS ",(0,u.jsx)("b",{children:"pseudo-class"})," is a keyword added to a selector that specifies a special y of the selected element(s) (",(0,u.jsx)("a",{href:"A CSS pseudo-class is a keyword added to a selector that specifies a special y of the selected element(s)",children:"mdn doc"}),")."]}),(0,u.jsx)("p",{children:"Basically, it means that you can add a class to each shape of a graph, and change its appearance when the user hover over it."}),(0,u.jsxs)("p",{children:["For instance, the scatterplot below is composed by a myriad of"," ",(0,u.jsx)("code",{children:"circle"})," elements, each having a"," ",(0,u.jsx)("code",{children:".scatterplotCircle"})," class. In the css file, I can use"," ",(0,u.jsx)("code",{children:".scatterplotCircle"})," to style the circles, and"," ",(0,u.jsx)("code",{children:".scatterplotCircle:hover"})," to style the hovered circles. \uD83C\uDF89"]}),(0,u.jsx)(p.$,{vizName:"ScatterplotHoverHighlight",VizComponent:x.d,maxWidth:400,height:500,caption:"Scatterplot with hover highlight"}),(0,u.jsxs)("p",{children:[(0,u.jsx)("u",{children:"Pro"}),": This is the most basic strategy. It is very easy to implement and has good performances since there is nothing that needs to be redrawn expect the highlighted point.",(0,u.jsx)("br",{}),(0,u.jsx)("u",{children:"Con"}),": Not the best design: all the other circles are still very prominent so the highlight isn't strong.Works only to highlight the hovered circle. If the information of the circle to highlight comes as a prop, we need something else."]})]}),(0,u.jsxs)(n.U,{title:(0,u.jsx)("span",{children:"Dim other groups, css only"}),startOpen:!0,children:[(0,u.jsx)("p",{children:"More elegant in term of design. Requires to dim all series by adding a class to the parent div. Then highlight the hovered shape by removing it's dim."}),(0,u.jsx)("p",{children:"Do it for treemap"}),(0,u.jsx)(c.d,{code:j}),(0,u.jsx)(p.$,{vizName:"TreemapHoverEffect",VizComponent:f.C,maxWidth:600,height:400,caption:"Hover over a group on the treemap to see the other groups fading."}),(0,u.jsxs)("p",{children:[(0,u.jsx)("u",{children:"Pro"}),": Better design. Easy to implement.",(0,u.jsx)("br",{}),(0,u.jsx)("u",{children:"Con"}),": If mouse enter chart area withouth hovering a circle, I'm still fading everything. I can highlight a circle that is below another. Perf issue if many dots?"]})]}),(0,u.jsxs)(n.U,{title:(0,u.jsx)("span",{children:"Dim other groups, toggle class in js"}),startOpen:!0,children:[(0,u.jsx)("p",{children:"More elegant in term of design. Requires to dim all series by adding a class to the parent div. Then highlight the hovered shape by removing it's dim."}),(0,u.jsx)(p.$,{vizName:"DonutChartHover",VizComponent:A.W,maxWidth:800,height:400,caption:"A donut chart with clean inline legends, built thanks to the centroid function of d3.js."})]}),(0,u.jsxs)(n.U,{title:"Canvas and second layer for performances",startOpen:!0,children:[(0,u.jsxs)("p",{children:["Using the ",(0,u.jsx)("code",{children:"useDimensions"})," hook described above is pretty straight-forward. You first need to create a ",(0,u.jsx)("code",{children:"ref"})," using the react ",(0,u.jsx)("code",{children:"useRef()"}),"function:"]}),(0,u.jsx)(p.$,{vizName:"ScatterplotHoverHighlightTwoLayers",VizComponent:G,maxWidth:400,height:500,caption:"Use dimming to highlight a specific point"}),(0,u.jsx)("br",{})]}),(0,u.jsx)("br",{}),(0,u.jsx)("br",{}),(0,u.jsx)("hr",{className:"full-bleed  bord er bg-gray-200 mb-3 mt-10"}),(0,u.jsx)(t.Z,{chartFamily:"general"}),(0,u.jsx)("div",{className:"mt-20"}),(0,u.jsx)(s.Z,{})]})}},5789:function(r,e,o){"use strict";o.d(e,{W:function(){return l}});var u=o(5893);let a=[{name:"Mark",value:90},{name:"Robert",value:12},{name:"Emily",value:34},{name:"Marion",value:53},{name:"Nicolas",value:58}];var i=o(7294),s=o(7875),p=o(8431),t=o.n(p);let n=["#e0ac2b","#e85252","#6689c6","#9a6fb0","#a53253","#69b3a2"],c=r=>{let{width:e,height:o,data:a}=r,p=(0,i.useRef)(null),c=Math.min(e-300,o-100)/2,l=c/2,g=(0,i.useMemo)(()=>{let r=s.ve8().value(r=>r.value);return r(a)},[a]),h=s.Nb1(),x=g.map((r,e)=>{let o={innerRadius:l,outerRadius:c,startAngle:r.startAngle,endAngle:r.endAngle},a=h.centroid(o),i=h(o),s={innerRadius:c+20,outerRadius:c+20,startAngle:r.startAngle,endAngle:r.endAngle},g=h.centroid(s),x=g[0]>0,d=g[0]+50*(x?1:-1),b=r.data.name+" ("+r.value+")";return(0,u.jsxs)("g",{className:t().slice,onMouseEnter:()=>{p.current&&p.current.classList.add(t().hasHighlight)},onMouseLeave:()=>{p.current&&p.current.classList.remove(t().hasHighlight)},children:[(0,u.jsx)("path",{d:i,fill:n[e]}),(0,u.jsx)("circle",{cx:a[0],cy:a[1],r:2}),(0,u.jsx)("line",{x1:a[0],y1:a[1],x2:g[0],y2:g[1],stroke:"black",fill:"black"}),(0,u.jsx)("line",{x1:g[0],y1:g[1],x2:d,y2:g[1],stroke:"black",fill:"black"}),(0,u.jsx)("text",{x:d+(x?2:-2),y:g[1],textAnchor:x?"start":"end",dominantBaseline:"middle",fontSize:14,children:b})]},e)});return(0,u.jsx)("svg",{width:e,height:o,style:{display:"inline-block"},children:(0,u.jsx)("g",{transform:"translate(".concat(e/2,", ").concat(o/2,")"),className:t().container,ref:p,children:x})})},l=r=>{let{width:e=700,height:o=400}=r;return(0,u.jsx)(c,{data:a,width:e,height:o})}},8431:function(r){r.exports={container:"donut-chart_container__TD26m",slice:"donut-chart_slice__DiRt3",hasHighlight:"donut-chart_hasHighlight__CYvny"}},3230:function(r){r.exports={scatterplotCircle:"scatterplot_scatterplotCircle__0w73L"}}},function(r){r.O(0,[3996,7875,5660,645,5058,8548,9774,2888,179],function(){return r(r.s=4273)}),_N_E=r.O()}]);