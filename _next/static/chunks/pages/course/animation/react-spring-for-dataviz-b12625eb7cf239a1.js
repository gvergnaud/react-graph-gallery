(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7206],{3460:function(e,i,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/course/animation/react-spring-for-dataviz",function(){return t(62404)}])},81122:function(e,i,t){"use strict";t.d(i,{$:function(){return a}});var n=t(85893),s=t(67294),r=t(59973),o=t(80615),l=t(88578),c=t(5);let a=e=>{let{VizComponent:i,vizName:t,height:a=400,maxWidth:d=800,caption:h,fileToOpen:x}=e,[p,u]=(0,s.useState)(!1),j=(0,s.useRef)(null),m=(0,r.B)(j);return(0,n.jsx)("div",{style:{marginLeft:"-50vw",left:"50%"},className:"my-4 py-4 w-screen relative",children:p?(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center w-full",children:[(0,n.jsx)("div",{style:{maxWidth:2e3},className:"w-full z-50",children:(0,n.jsx)(l.X,{vizName:t,fileToOpen:x})}),(0,n.jsx)("div",{className:"flex justify-center mt-2",children:(0,n.jsx)(c.z,{size:"sm",onClick:()=>u(!p),children:"Hide Sandbox"})})]}):(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,n.jsx)("div",{className:"bg-gray-100 bg-opacity-50 w-screen flex justify-center z-50 pointer-events-none",children:(0,n.jsx)("div",{style:{height:a,width:"100%",maxWidth:d},ref:j,className:"pointer-events-auto",children:(0,n.jsx)(i,{height:a,width:m.width})})}),(0,n.jsx)(o.Y,{children:h}),(0,n.jsx)("div",{className:"flex justify-center",children:(0,n.jsx)(c.z,{size:"sm",onClick:()=>u(!p),children:"Show code"})})]})})}},88578:function(e,i,t){"use strict";t.d(i,{X:function(){return s}});var n=t(85893);t(67294);let s=e=>{let{vizName:i,height:t="500px",fileToOpen:s}=e;return(0,n.jsx)("iframe",{src:"https://codesandbox.io/embed/github/holtzy/react-graph-gallery/tree/main/viz/"+i+"?fontsize=14&hidenavigation=1&theme=dark&expanddevtools=0&view=split"+(s?"&module=/".concat(s):""),style:{width:"100%",height:t,border:"solid",borderWidth:2,borderRadius:"4px",overflow:"hidden"},allow:"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking",sandbox:"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"})}},47498:function(e,i,t){"use strict";t.d(i,{v:function(){return d}});var n=t(85893),s=t(7826),r=t(13742),o=t(61108),l=t(67294),c=t(5),a=t(77522);let d=e=>{let{exercises:i,localStorageId:t}=e,[d,h]=(0,l.useState)([]),[x,p]=(0,l.useState)("");return(0,l.useEffect)(()=>{let e=localStorage.getItem(t),n=e?JSON.parse(e):Array(i.length).fill("todo");h(n)},[]),(0,n.jsx)(s.UQ,{value:x,onValueChange:p,type:"single",collapsible:!0,className:"w-full",children:i.map((e,i)=>(0,n.jsxs)(s.Qd,{value:"item-"+i,children:[(0,n.jsx)(s.o4,{className:"no-decoration hover:bg-gray-50",children:(0,n.jsxs)("div",{className:"text-sm flex justify-start gap-2 items-center",children:[(0,n.jsx)("div",{className:(0,a.cn)("text-xs h-6 w-6 flex justify-center items-center rounded-full text-center leading-none","todo"===d[i]?"bg-gray-200":"failed"===d[i]?"bg-red-300":"bg-green-300"),children:(0,n.jsx)("span",{style:{transform:"translateX(1px)"},children:i+1})}),(0,n.jsx)("span",{children:e.title}),"ok"===d[i]&&(0,n.jsx)(r.Z,{size:16,className:"text-green-500"}),"failed"===d[i]&&(0,n.jsx)(o.Z,{size:16,className:"text-red-500"}),"todo"===d[i]&&(0,n.jsx)("span",{className:"text-gray-400 font-thin",children:"ToDo"})]})}),(0,n.jsxs)(s.vF,{children:[e.content,(0,n.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,n.jsx)(c.z,{variant:"outline",onClick:()=>{let e=[...d];e[i]="failed",h(e),localStorage.setItem(t,JSON.stringify(e)),p("")},children:"Failed"}),(0,n.jsxs)(c.z,{onClick:()=>{let e=[...d];e[i]="ok",h(e),localStorage.setItem(t,JSON.stringify(e)),p("")},children:["Done",(0,n.jsx)("span",{className:"ml-2",children:"\uD83C\uDF89"})]})]})]})]}))})}},13400:function(e,i,t){"use strict";t.d(i,{q:function(){return a}});var n=t(85893),s=t(22725),r=t(67294),o=t(88578),l=t(8117),c=t(5);let a=e=>{let{exercise:i}=e,[t,a]=(0,r.useState)(!1);(0,r.useEffect)(()=>{let e=e=>{"Escape"===e.key&&a(!1)};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[]);let h=(0,n.jsx)(o.X,{vizName:i.practiceSandbox,height:t?"100%":"500px",fileToOpen:i.fileToOpen}),x=(0,n.jsx)(o.X,{vizName:i.solutionSandbox,height:t?"100%":"500px",fileToOpen:i.fileToOpen});return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(l.C,{children:"To Do"}),(0,n.jsx)("div",{className:"mt-4",children:i.toDo})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(l.C,{children:"Why it matters"}),(0,n.jsx)("div",{className:"mt-4 pl-4",children:i.whyItMatters})]})]}),(0,n.jsxs)(s.mQ,{defaultValue:"practice",className:"relative",children:[(0,n.jsxs)("div",{className:"flex justify-center items-center",children:[(0,n.jsxs)(s.dr,{children:[(0,n.jsx)(s.SP,{value:"practice",children:"Practice"}),(0,n.jsx)(s.SP,{value:"solution",children:"Solution"})]}),(0,n.jsx)("div",{className:"absolute right-0",children:(0,n.jsx)(c.z,{size:"sm",variant:"outline",onClick:()=>a(!0),children:"Show full screen"})})]}),(0,n.jsx)(s.nU,{value:"practice",children:t?(0,n.jsx)(d,{setIsFullScreen:a,sandbox:h}):(0,n.jsx)("div",{className:"my-4",children:h})}),(0,n.jsx)(s.nU,{value:"solution",children:t?(0,n.jsx)(d,{setIsFullScreen:a,sandbox:x}):(0,n.jsx)("div",{className:"my-4",children:x})})]})]})},d=e=>{let{sandbox:i,setIsFullScreen:t}=e;return(0,n.jsxs)("div",{className:"fixed h-screen inset-0 flex justify-center items-center",children:[(0,n.jsx)("div",{className:"absolute inset-0 w-full h-full bg-white/80"}),(0,n.jsxs)("div",{className:"relative w-11/12 h-4/5",children:[i,(0,n.jsx)("div",{className:"w-full mt-2 flex justify-center items-center gap-2",children:(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(c.z,{onClick:()=>t(!1),variant:"destructive",children:"Leave Fullscreen mode"}),(0,n.jsxs)("span",{className:"absolute w-96 ml-2 text-gray-500 text-xs mt-3",children:["You can also press ",(0,n.jsx)("code",{children:"Esc"})]})]})})]})]})}},41843:function(e,i,t){"use strict";t.d(i,{p:function(){return a}});var n=t(85893),s=t(49700),r=t(63476),o=t(17414),l=t(41664),c=t.n(l);let a=e=>{let{children:i,title:t,seoDescription:l,previousTocItem:a,nextTocItem:d}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.A,{title:t,seoDescription:l}),(0,n.jsx)(s.Z,{}),(0,n.jsx)("div",{className:"wrapper",children:i}),(0,n.jsxs)("div",{className:"flex justify-center items-center space-x-6 my-24 py-12  bg-muted/50",children:[a?(0,n.jsxs)(c(),{href:a.link,className:"text-gray-500 no-underline flex flex-col justify-start items-end w-96 h-32 border-r border-black  p-8 hover:bg-muted ",children:[(0,n.jsx)("span",{className:"uppercase font-light text-transparent bg-gradient-to-l to-fuchsia-300 from-blue-400 bg-clip-text",children:"← Previous"}),(0,n.jsx)("p",{children:a.name})]}):(0,n.jsx)("div",{className:"w-96"}),d&&(0,n.jsxs)(c(),{href:d.link,className:"text-gray-500 no-underline flex flex-col justify-start w-96 h-32 border-l border-black  p-8 hover:bg-muted ",children:[(0,n.jsx)("span",{className:"uppercase font-light text-transparent bg-gradient-to-l from-fuchsia-300 to-blue-400 bg-clip-text",children:"Next →"}),(0,n.jsx)("p",{children:d.name})]})]}),(0,n.jsx)("div",{className:"wrapper",children:(0,n.jsx)(r.Z,{})})]})}},80615:function(e,i,t){"use strict";t.d(i,{Y:function(){return s}});var n=t(85893);let s=e=>{let{children:i}=e;return(0,n.jsx)("p",{className:"text-sm text-gray-500 max-w-xs italic text-center mt-4 font-light",children:i})}},3572:function(e,i,t){"use strict";t.d(i,{d:function(){return d}});var n=t(85893),s=t(32581),r=t(15660),o=t.n(r),l=t(67294),c=t(45993),a=t.n(c);let d=e=>{let{code:i}=e,[t,r]=(0,l.useState)(!1),c=(0,l.useRef)(null);(0,l.useEffect)(()=>{c.current&&o().highlightElement(c.current)},[c,i]);let d=(0,n.jsx)("div",{onClick:()=>{navigator.clipboard.writeText(i),r(!0)},className:a().codeChunckCopyButton,children:t?"Copied":(0,n.jsx)(s.Z,{size:14,style:{padding:0}})});return(0,n.jsxs)("div",{className:"mb-6 relative",children:[(0,n.jsx)("pre",{className:"rounded-md line-numbers",children:(0,n.jsx)("code",{ref:c,className:"language-javascript",children:i})}),(0,n.jsx)("div",{className:a().copyButtonContainer,children:d})]})}},7826:function(e,i,t){"use strict";t.d(i,{Qd:function(){return a},UQ:function(){return c},o4:function(){return d},vF:function(){return h}});var n=t(85893),s=t(67294),r=t(47398),o=t(8971),l=t(77522);let c=r.fC,a=s.forwardRef((e,i)=>{let{className:t,...s}=e;return(0,n.jsx)(r.ck,{ref:i,className:(0,l.cn)("border-b",t),...s})});a.displayName="AccordionItem";let d=s.forwardRef((e,i)=>{let{className:t,children:s,...c}=e;return(0,n.jsx)(r.h4,{className:"flex mt-0 pb-0 font-normal",children:(0,n.jsxs)(r.xz,{ref:i,className:(0,l.cn)("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...c,children:[s,(0,n.jsx)(o.Z,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})})});d.displayName=r.xz.displayName;let h=s.forwardRef((e,i)=>{let{className:t,children:s,...o}=e;return(0,n.jsx)(r.VY,{ref:i,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...o,children:(0,n.jsx)("div",{className:(0,l.cn)("pb-4 pt-0",t),children:s})})});h.displayName=r.VY.displayName},22725:function(e,i,t){"use strict";t.d(i,{SP:function(){return a},dr:function(){return c},mQ:function(){return l},nU:function(){return d}});var n=t(85893),s=t(67294),r=t(60434),o=t(77522);let l=r.fC,c=s.forwardRef((e,i)=>{let{className:t,...s}=e;return(0,n.jsx)(r.aV,{ref:i,className:(0,o.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...s})});c.displayName=r.aV.displayName;let a=s.forwardRef((e,i)=>{let{className:t,...s}=e;return(0,n.jsx)(r.xz,{ref:i,className:(0,o.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...s})});a.displayName=r.xz.displayName;let d=s.forwardRef((e,i)=>{let{className:t,...s}=e;return(0,n.jsx)(r.VY,{ref:i,className:(0,o.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...s})});d.displayName=r.VY.displayName},59973:function(e,i,t){"use strict";t.d(i,{B:function(){return s}});var n=t(67294);let s=e=>{let i=()=>({width:e.current?e.current.offsetWidth:0,height:e.current?e.current.offsetHeight:0}),[t,s]=(0,n.useState)(i),r=()=>{s(i())};return(0,n.useEffect)(()=>(window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)),[]),(0,n.useEffect)(()=>{r()},[e]),t}},62404:function(e,i,t){"use strict";t.r(i),t.d(i,{default:function(){return T}});var n=t(85893),s=t(67294),r=t(43710),o=t(41843),l=t(11236),c=t(18496),a=t(81122),d=t(67208),h=t(86824);let x=e=>{let{position:i,color:t,preset:s}=e,r=(0,h.q_)({to:{position:i,color:t},config:h.vc[s]});return(0,n.jsx)(h.q.circle,{strokeWidth:2,fillOpacity:.4,r:38,cy:50,cx:r.position,stroke:r.color,fill:r.color})},p={border:"1px solid #9a6fb0",borderRadius:"3px",padding:"4px 8px",margin:"10px 2px",fontSize:14,color:"#9a6fb0",opacity:.7},u=e=>{let{width:i,height:t}=e,[r,o]=(0,s.useState)(40),[l,c]=(0,s.useState)("default");return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("button",{style:p,onClick:()=>o(40),children:"Left"}),(0,n.jsx)("button",{style:p,onClick:()=>o(i-40),children:"Right"}),(0,n.jsx)("select",{value:l,onChange:e=>{c(e.target.value)},style:{padding:"8px",fontSize:"16px"},children:["default","gentle","wobbly","stiff","slow","molasses"].map(e=>(0,n.jsx)("option",{value:e,children:e}))})]}),(0,n.jsx)("svg",{width:i,height:t,style:{overflow:"visible"},children:(0,n.jsx)(x,{position:r,color:40===r?"#9a6fb0":"#69b3a2",preset:l})})]})},j=e=>{let{width:i=700,height:t=400}=e;return(0,n.jsx)(u,{width:i,height:t})},m=e=>{let{position:i,color:t}=e,s=(0,h.q_)({to:{position:i,color:t},config:h.vc.molasses});return(0,n.jsx)(h.q.circle,{strokeWidth:2,fillOpacity:.4,r:s.position.to(e=>e/10),cy:50,cx:s.position,stroke:s.color,fill:s.color})},f={border:"1px solid #9a6fb0",borderRadius:"3px",padding:"4px 8px",margin:"10px 2px",fontSize:14,color:"#9a6fb0",opacity:.7},g=e=>{let{width:i,height:t}=e,[r,o]=(0,s.useState)(40);return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("button",{style:f,onClick:()=>o(40),children:"Left"}),(0,n.jsx)("button",{style:f,onClick:()=>o(i-40),children:"Right"})]}),(0,n.jsx)("svg",{width:i,height:t,style:{overflow:"visible"},children:(0,n.jsx)(m,{position:r,color:40===r?"#9a6fb0":"#69b3a2"})})]})},v=e=>{let{width:i=700,height:t=400}=e;return(0,n.jsx)(g,{width:i,height:t})},b=e=>{let{position:i,color:t}=e,s=(0,h.q_)({to:{position:i,color:t},config:h.vc.molasses});return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(h.q.circle,{strokeWidth:2,fillOpacity:.4,r:s.position.to(e=>e/10+10),cy:50,cx:s.position,stroke:s.color,fill:s.color}),(0,n.jsx)(h.q.text,{x:s.position,y:50,textAnchor:"middle",alignmentBaseline:"central",children:s.position.to(e=>Math.floor(e))})]})},y={border:"1px solid #9a6fb0",borderRadius:"3px",padding:"4px 8px",margin:"10px 2px",fontSize:14,color:"#9a6fb0",opacity:.7},w=e=>{let{width:i,height:t}=e,[r,o]=(0,s.useState)(40);return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("button",{style:y,onClick:()=>o(40),children:"Left"}),(0,n.jsx)("button",{style:y,onClick:()=>o(i-40),children:"Right"})]}),(0,n.jsx)("svg",{width:i,height:t,style:{overflow:"visible"},children:(0,n.jsx)(b,{position:r,color:40===r?"#9a6fb0":"#69b3a2"})})]})},k=e=>{let{width:i=700,height:t=400}=e;return(0,n.jsx)(w,{width:i,height:t})};var S=t(80615),N=t(3572),C=t(7826),D=t(13400),z=t(47498);function T(){let e=l.Y.find(e=>"/course/animation/react-spring-for-dataviz"===e.link);return e?(0,n.jsxs)(o.p,{title:e.name,seoDescription:"",nextTocItem:l.Y.find(e=>"/course/animation/scatterplot"===e.link),previousTocItem:l.Y.find(e=>"/course/animation/introduction"===e.link),children:[(0,n.jsx)(r.Z,{title:e.name,lessonStatus:e.status,readTime:e.readTime,selectedLesson:e,description:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("p",{children:["Web animations fall into two main categories: ",(0,n.jsx)("b",{children:"CSS"})," and"," ",(0,n.jsx)("b",{children:"spring-based"})," animations."]}),(0,n.jsxs)("p",{children:["In this lesson, we’ll explore ",(0,n.jsx)("b",{children:"react-spring"}),", a popular library for creating spring-based animations in React. Let’s see how to use it to bring our ",(0,n.jsx)("b",{children:"graph elements to life"}),"."]})]})}),(0,n.jsx)("h2",{children:"Animating a Circle"}),(0,n.jsxs)("p",{children:["Let’s start with something ",(0,n.jsx)("strong",{children:"simple"})," for this first lesson."]}),(0,n.jsx)("p",{children:"Our goal is to animate a circle moving smoothly from one position to another. Here’s what the final effect will look like:"}),(0,n.jsx)("div",{className:"border p-4 my-4",children:(0,n.jsx)(c.x,{width:650,height:100})}),(0,n.jsx)("p",{children:(0,n.jsx)("br",{})}),(0,n.jsx)("p",{children:"Pretty cool, right? \uD83D\uDE43"}),(0,n.jsxs)("p",{children:["To achieve this, we’ll use"," ",(0,n.jsx)("a",{href:"https://www.react-spring.dev",children:"react-spring"}),", the most popular JavaScript library for spring-based animations."]}),(0,n.jsx)("p",{children:(0,n.jsx)("br",{})}),(0,n.jsxs)("center",{children:[(0,n.jsx)("img",{src:"/img/react-spring-homepage.png",width:600}),(0,n.jsxs)(S.Y,{children:[(0,n.jsx)("code",{children:"react-spring"})," homepage. The most famous lib for javascript animation (28k stars on github)"]})]}),(0,n.jsx)("p",{children:(0,n.jsx)("br",{})}),(0,n.jsx)("h2",{children:"Full code"}),(0,n.jsxs)("p",{children:[(0,n.jsx)("code",{children:"react-spring"})," is incredibly powerful, but it can be a bit tricky to grasp, and I personally find its documentation a little unclear. \uD83D\uDE1E"]}),(0,n.jsxs)("p",{children:["For now, the two key features we need are the ",(0,n.jsx)("code",{children:"useSpring"})," ","hook and the ",(0,n.jsx)("code",{children:"animated"})," component."]}),(0,n.jsxs)("p",{children:["With these two tools, we can create a ",(0,n.jsx)("code",{children:"Circle"})," component that accepts a ",(0,n.jsx)("code",{children:"position"})," prop. Whenever a new"," ",(0,n.jsx)("code",{children:"position"})," value is passed, the circle smoothly transitions to its new location."]}),(0,n.jsxs)("p",{children:["Here’s how the ",(0,n.jsx)("code",{children:"Circle"})," component looks:"]}),(0,n.jsx)(N.d,{code:"\nimport { animated, useSpring } from 'react-spring';\n\nexport const Circle = ({ position }) => {\n\n  const springProps = useSpring({\n    to: {\n      position: position\n    },\n  });\n\n  return (\n    <animated.circle\n      r={38}\n      cy={50}\n      cx={springProps.position}\n    />\n  );\n};\n\n        "}),(0,n.jsx)("h2",{children:"Explanation"}),(0,n.jsxs)("p",{children:["In this code, we’re creating a simple ",(0,n.jsx)("code",{children:"Circle"})," component that renders ",(0,n.jsx)("strong",{children:"one circle"}),". The component takes a"," ",(0,n.jsx)("code",{children:"position"})," property, which controls the circle’s X position."]}),(0,n.jsxs)("p",{children:["Whenever this prop updates, the circle’s position will change, but it will happen ",(0,n.jsx)("strong",{children:"smoothly"}),"!"]}),(0,n.jsx)("p",{children:"Here’s a breakdown of what’s happening:"}),(0,n.jsx)("h3",{children:"\uD83D\uDE9A Import"}),(0,n.jsxs)("p",{children:["Once installed with a classic ",(0,n.jsx)("code",{children:"npm install react-spring"}),", we need to import:"]}),(0,n.jsxs)("ul",{children:[(0,n.jsxs)("li",{children:[(0,n.jsx)("code",{children:"useSpring"}),": a hook that helps us create animated values."]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("code",{children:"animated"}),":a special version of elements (like"," ",(0,n.jsx)("code",{children:"<circle>"}),") that can be animated."]})]}),(0,n.jsxs)("h3",{children:["\uD83C\uDF38 Using ",(0,n.jsx)("code",{children:"useSpring"})]}),(0,n.jsxs)("ul",{children:[(0,n.jsxs)("li",{children:["The ",(0,n.jsx)("code",{children:"useSpring"})," hook is used to define an animation. It accepts an object where we specify the properties to animate and how to animate them. In this case, we're animating the"," ",(0,n.jsx)("code",{children:"position"}),"."]}),(0,n.jsxs)("li",{children:["We now have access to ",(0,n.jsx)("code",{children:"springProps.position"}),". If the position changes from ",(0,n.jsx)("code",{children:"0"})," to ",(0,n.jsx)("code",{children:"100"}),","," ",(0,n.jsx)("code",{children:"springProps.position"})," will smoothly transition through values like 1, 3, 10, 15, and so on, until it reaches 100."," ",(0,n.jsx)("code",{children:"react-spring"})," handles the calculation of these intermediate values for us!"]})]}),(0,n.jsx)("h3",{children:"\uD83D\uDD17 Binding the Animation to the Circle"}),(0,n.jsxs)("ul",{children:[(0,n.jsxs)("li",{children:["Instead of using a regular ",(0,n.jsx)("code",{children:"circle"})," SVG element, we use"," ",(0,n.jsx)("code",{children:"animated.circle"}),". React-spring provides its own animated version of all HTML and SVG elements!"]}),(0,n.jsxs)("li",{children:["Instead of passing ",(0,n.jsx)("code",{children:"position"})," directly to the"," ",(0,n.jsx)("code",{children:"cx"})," property, we pass ",(0,n.jsx)("code",{children:"springProps.position"}),", which contains all the intermediate values, ensuring the circle moves smoothly."]})]}),(0,n.jsx)(a.$,{vizName:"ReactSpringMostBasic",VizComponent:d.U,maxWidth:800,height:200,caption:"A very basic animation using react and react-spring.",fileToOpen:"Circle.tsx"}),(0,n.jsx)(C.UQ,{type:"single",collapsible:!0,children:(0,n.jsxs)(C.Qd,{value:"item-1",children:[(0,n.jsx)(C.o4,{children:"⚠️ Config object or function?"}),(0,n.jsxs)(C.vF,{children:[(0,n.jsxs)("p",{children:["There is something I find very confusing about useSpring hook. It can be used with a config object (like in my explanation), or"," ",(0,n.jsx)("b",{children:"with a function"}),"."]}),(0,n.jsxs)("p",{children:["You will see both in the"," ",(0,n.jsx)("a",{href:"https://www.react-spring.dev/docs/components/use-spring#usage",children:"documentation"}),", what might you feel... confused."]})]})]})}),(0,n.jsx)("h2",{children:"\uD83D\uDD25 Spring Config"}),(0,n.jsxs)("p",{children:["Spring animations follow physics laws to make the animation feel natural. There are three key properties you can control to adjust the feel of the animation: ",(0,n.jsx)("code",{children:"mass"}),", ",(0,n.jsx)("code",{children:"friction"}),", and"," ",(0,n.jsx)("code",{children:"tension"}),"."]}),(0,n.jsxs)("p",{children:["You can customize these properties in the ",(0,n.jsx)("code",{children:"useSpring"})," hook like this:"]}),(0,n.jsx)(N.d,{code:"\nconst springProps = useSpring({\n  to: { position, color },\n  config: {\n    mass: 5,\n    friction: 120,\n    tension: 120,\n  }\n});\n  "}),(0,n.jsxs)("p",{children:["But honestly, I strongly advise using one of the"," ",(0,n.jsx)("strong",{children:"presets"})," provided by the library, as they offer great results right out of the box."]}),(0,n.jsx)("p",{children:"Check out the preset effects in the example below:"}),(0,n.jsx)(a.$,{vizName:"ReactSpringPresetValues",VizComponent:j,maxWidth:800,height:200,caption:(0,n.jsxs)("p",{children:[(0,n.jsx)("code",{children:"react-spring"})," offers a few presets for the animation feel. Try them in this sandbox!"]}),fileToOpen:"Circle.tsx"}),(0,n.jsx)("p",{children:"To use one of the presets, you can do something like this:"}),(0,n.jsx)(N.d,{code:"\nconst springProps = useSpring({\n  position: 100,\n  config: config.default\n});\n  "}),(0,n.jsx)("h2",{children:"Deriving Values"}),(0,n.jsxs)("p",{children:["Animating a value directly using ",(0,n.jsx)("b",{children:"react-spring"}),", like we did for the position property, is straightforward."]}),(0,n.jsxs)("p",{children:["However, in data visualization, we often need to"," ",(0,n.jsx)("b",{children:"derive one value from another"}),"."]}),(0,n.jsxs)("p",{children:["For example, suppose we want the size of the circle to be proportional to the X position. You might think that we could simply use the"," ",(0,n.jsx)("code",{children:"springProps.position"})," value as a regular number, like this:"]}),(0,n.jsx)(N.d,{code:"\nreturn (\n  <animated.circle\n    cx={springProps.position}\n    cy={50}\n    r={springProps.position / 10} // This will not work! \uD83D\uDE31\n  />\n);\n  "}),(0,n.jsxs)("p",{children:["Instead, to achieve this, we need to use the ",(0,n.jsx)("code",{children:"to()"})," method of the ",(0,n.jsx)("code",{children:"springProps.position"})," property, like so:"]}),(0,n.jsx)(N.d,{code:"\nreturn (\n  <animated.circle\n    cx={springProps.position}\n    cy={50}\n    r={springProps.position.to((pos) => pos / 10)}\n  />\n);\n  "}),(0,n.jsxs)("p",{children:["This is called ",(0,n.jsx)("b",{children:"interpolation"})," in ",(0,n.jsx)("code",{children:"react-spring"})," ","terminology. You can learn more about it in the full documentation"," ",(0,n.jsx)("a",{href:"https://www.react-spring.dev/docs/advanced/interpolation",target:"_blank",rel:"noopener noreferrer",children:"here"}),"."]}),(0,n.jsx)("p",{children:"Let’s take a look at the result!"}),(0,n.jsx)(a.$,{vizName:"ReactSpringDerivingValue",VizComponent:v,maxWidth:800,height:200,caption:"Smooth animation where circle size is derived from X position.",fileToOpen:"Circle.tsx"}),(0,n.jsx)("h2",{children:"Animating Text"}),(0,n.jsxs)("p",{children:["So far, we’ve only animated numerical values—like smoothly transitioning the position from ",(0,n.jsx)("code",{children:"1"})," to ",(0,n.jsx)("code",{children:"100"}),"."]}),(0,n.jsxs)("p",{children:["But ",(0,n.jsx)("code",{children:"react-spring"})," is much more powerful than that! It can animate almost anything, including ",(0,n.jsx)("b",{children:"text"})," and ",(0,n.jsx)("b",{children:"colors"}),"!"]}),(0,n.jsx)("p",{children:"In the example below, watch how the number evolves progressively:"}),(0,n.jsx)(a.$,{vizName:"ReactSpringText",VizComponent:k,maxWidth:800,height:200,caption:"Demo: react-spring can also animate text, colors and so much more!",fileToOpen:"Circle.tsx"}),(0,n.jsx)("h2",{children:"Exercises"}),(0,n.jsx)(z.v,{localStorageId:e.link,exercises:[{title:(0,n.jsx)("span",{children:"Your first animated circle!"}),content:(0,n.jsx)(D.q,{exercise:I[0]})},{title:(0,n.jsx)("span",{children:"Opacity? \uD83D\uDC7B"}),content:(0,n.jsx)(D.q,{exercise:I[1]})},{title:(0,n.jsxs)("span",{children:["Let's make this ",(0,n.jsx)("code",{children:"div"})," moves"]}),content:(0,n.jsx)(D.q,{exercise:I[2]})},{title:(0,n.jsx)("span",{children:"Rotate this rect"}),content:(0,n.jsx)(D.q,{exercise:I[3]})},{title:(0,n.jsx)("span",{children:"Is it to heavy?"}),content:(0,n.jsx)(D.q,{exercise:I[4]})},{title:(0,n.jsx)("span",{children:"Three elements"}),content:(0,n.jsx)(D.q,{exercise:I[5]})}]})]}):null}let I=[{whyItMatters:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("p",{children:"Just applying the very basic usage we just learned"})}),toDo:(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("ul",{children:[(0,n.jsxs)("li",{children:["Create a ",(0,n.jsx)("code",{children:"Circle.tsx"})," file that makes a"," ",(0,n.jsx)("code",{children:"Circle"})," component"]}),(0,n.jsxs)("li",{children:["Create a ",(0,n.jsx)("code",{children:"position"})," state in ",(0,n.jsx)("code",{children:"Graph.tsx"}),". Each time the user click on the SVG area, this position must toggle between ",(0,n.jsx)("code",{children:"40"})," and ",(0,n.jsx)("code",{children:"width - 40"})]}),(0,n.jsxs)("li",{children:["Provide the position to the ",(0,n.jsx)("code",{children:"Circle"})," component. Render a circle at this ",(0,n.jsx)("code",{children:"x"})," position, animate its movement with"," ",(0,n.jsx)("code",{children:"react-spring"}),"."]})]})}),practiceSandbox:"exercise/AnimationDefaultPractice",solutionSandbox:"exercise/AnimationSimpleCircleSolution",fileToOpen:"Graph.tsx"},{whyItMatters:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("p",{children:"react-spring can animate many sorts of values. Opacity is one of them, but text, and colors work too!"})}),toDo:(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("ul",{children:[(0,n.jsxs)("li",{children:["Same as previous exercise, but add a property for the"," ",(0,n.jsx)("code",{children:"opacity"}),"."]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("code",{children:"opacity"})," must toggle between ",(0,n.jsx)("code",{children:"0.2"})," and"," ",(0,n.jsx)("code",{children:"1"})," depending on if the circle is on the left or on the right."]})]})}),practiceSandbox:"exercise/AnimationDefaultPractice",solutionSandbox:"exercise/AnimationSimpleCircleOpacitySolution",fileToOpen:"Graph.tsx"},{whyItMatters:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("p",{children:[(0,n.jsx)("code",{children:"react-spring"})," does not only work with SVG! HTML elements can be animated too!"]}),(0,n.jsxs)("p",{children:["note also that the spring can be made directly in the"," ",(0,n.jsx)("code",{children:"Graph"})," component. Making a separate component to organise your work is nice IMO, but not required."]})]}),toDo:(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("ul",{children:[(0,n.jsxs)("li",{children:["In ",(0,n.jsx)("code",{children:"Graph.tsx"}),", render a parent ",(0,n.jsx)("code",{children:"div"})," using the ",(0,n.jsx)("code",{children:"width"})," and ",(0,n.jsx)("code",{children:"height"})," provided at the top of the component instead of the usual SVG area."]}),(0,n.jsxs)("li",{children:["In this ",(0,n.jsx)("code",{children:"div"}),", render another ",(0,n.jsx)("code",{children:"div"}),". It must be square, have a ",(0,n.jsx)("code",{children:"backgroundColor"})," of ",(0,n.jsx)("code",{children:"red"})," ","and be absolutely positioned."]}),(0,n.jsxs)("li",{children:["Now make the red ",(0,n.jsx)("code",{children:"div"})," moves from right to left when user clicks on the parent div."]})]})}),practiceSandbox:"exercise/AnimationDefaultPractice",solutionSandbox:"exercise/AnimationSimpleDivSolution",fileToOpen:"Graph.tsx"},{whyItMatters:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("p",{children:"Unlike SVG, canvas doesn’t directly support complex shapes with strings. Instead, we need to create loops for drawing such shapes."})}),toDo:(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("ul",{children:[(0,n.jsxs)("li",{children:["Draw a segmented line starting from ",(0,n.jsx)("code",{children:"(50, 150)"}),"."]}),(0,n.jsxs)("li",{children:["Use ",(0,n.jsx)("code",{children:"beginPath()"})," and ",(0,n.jsx)("code",{children:"moveTo()"}),", then draw lines to ",(0,n.jsx)("code",{children:"(100, 120)"}),", ",(0,n.jsx)("code",{children:"(150, 180)"}),",",(0,n.jsx)("code",{children:"(200, 100)"}),", ",(0,n.jsx)("code",{children:"(250, 160)"}),","," ",(0,n.jsx)("code",{children:"(300, 90)"}),", and ",(0,n.jsx)("code",{children:"(350, 140)"}),"."]})]})}),practiceSandbox:"exercise/AnimationDefaultPractice",solutionSandbox:"exercise/AnimationSimpleCircleOpacitySolution",fileToOpen:"Graph.tsx"},{whyItMatters:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("p",{children:"Creating a scatterplot involves looping through a dataset and creating a circle for each item."})}),toDo:(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{children:"A dataset is provided in the sandbox."}),(0,n.jsxs)("li",{children:["Draw a circle for each data point, using its ",(0,n.jsx)("code",{children:"x"})," and"," ",(0,n.jsx)("code",{children:"y"})," values as coordinates."]}),(0,n.jsx)("li",{children:"Use a loop to complete the task."})]})}),practiceSandbox:"exercise/AnimationDefaultPractice",solutionSandbox:"exercise/AnimationSimpleCircleOpacitySolution",fileToOpen:"Graph.tsx"},{whyItMatters:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("p",{children:"Handling text in canvas can be tricky. Whenever possible, we should use HTML or SVG."})}),toDo:(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{children:"Draw a large circle."}),(0,n.jsxs)("li",{children:["Use the"," ",(0,n.jsx)("a",{href:"https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/fillText",children:"fillText"})," ",'function to write "Hello, World!" at the center of the circle.']}),(0,n.jsx)("li",{children:"Align the text vertically and horizontally."})]})}),practiceSandbox:"exercise/AnimationDefaultPractice",solutionSandbox:"exercise/AnimationSimpleCircleOpacitySolution",fileToOpen:"Graph.tsx"}]},18496:function(e,i,t){"use strict";t.d(i,{x:function(){return c}});var n=t(85893),s=t(67294),r=t(86824);let o=e=>{let{position:i,color:t}=e,s=(0,r.q_)({to:{position:i,color:t}});return(0,n.jsx)(r.q.circle,{strokeWidth:2,fillOpacity:.4,r:38,cy:50,cx:s.position,stroke:s.color,fill:s.color})},l={border:"1px solid #9a6fb0",borderRadius:"3px",padding:"4px 8px",margin:"10px 2px",fontSize:14,color:"#9a6fb0",opacity:.7},c=e=>{let{width:i,height:t}=e,[r,c]=(0,s.useState)(40);return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("button",{style:l,onClick:()=>c(40),children:"Left"}),(0,n.jsx)("button",{style:l,onClick:()=>c(i-40),children:"Right"})]}),(0,n.jsx)("svg",{width:i,height:t,children:(0,n.jsx)(o,{position:r,color:40===r?"#9a6fb0":"#69b3a2"})})]})}},67208:function(e,i,t){"use strict";t.d(i,{U:function(){return r}});var n=t(85893),s=t(18496);let r=e=>{let{width:i=700,height:t=400}=e;return(0,n.jsx)(s.x,{width:i,height:t})}},45993:function(e){e.exports={codeChunckCopyButton:"code-block_codeChunckCopyButton__yPrL_",copyButtonContainer:"code-block_copyButtonContainer__BrX9E"}},86824:function(e,i,t){"use strict";t.d(i,{q:function(){return n.q},q_:function(){return n.q_},to:function(){return n.to},vc:function(){return n.vc}});var n=t(2719)}},function(e){e.O(0,[2343,7754,7823,2719,9484,8190,3710,9774,2888,179],function(){return e(e.s=3460)}),_N_E=e.O()}]);