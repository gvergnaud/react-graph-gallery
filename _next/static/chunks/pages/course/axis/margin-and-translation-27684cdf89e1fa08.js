(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8790],{26327:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/course/axis/margin-and-translation",function(){return s(16911)}])},88578:function(e,t,s){"use strict";s.d(t,{X:function(){return i}});var n=s(85893);s(67294);let i=e=>{let{vizName:t,height:s="500px",fileToOpen:i}=e;return console.log("rerendeeeerrrrr"),(0,n.jsx)("iframe",{src:"https://codesandbox.io/embed/github/holtzy/react-graph-gallery/tree/main/viz/"+t+"?fontsize=14&hidenavigation=1&theme=dark&expanddevtools=0&view=split"+(i?"&module=/".concat(i):""),style:{width:"100%",height:s,border:"solid",borderWidth:2,borderRadius:"4px",overflow:"hidden"},allow:"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking",sandbox:"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"})}},47498:function(e,t,s){"use strict";s.d(t,{v:function(){return d}});var n=s(85893),i=s(7826),r=s(13742),a=s(61108),l=s(67294),o=s(5),c=s(77522);let d=e=>{let{exercises:t,localStorageId:s}=e,[d,h]=(0,l.useState)([]),[x,u]=(0,l.useState)("");return(0,l.useEffect)(()=>{let e=localStorage.getItem(s),n=e?JSON.parse(e):Array(t.length).fill("todo");h(n)},[]),(0,n.jsx)(i.UQ,{value:x,onValueChange:u,type:"single",collapsible:!0,className:"w-full",children:t.map((e,t)=>(0,n.jsxs)(i.Qd,{value:"item-"+t,children:[(0,n.jsx)(i.o4,{className:"no-decoration hover:bg-gray-50",children:(0,n.jsxs)("div",{className:"text-sm flex justify-start gap-2 items-center",children:[(0,n.jsx)("div",{className:(0,c.cn)("text-xs h-6 w-6 flex justify-center items-center rounded-full text-center leading-none","todo"===d[t]?"bg-gray-200":"failed"===d[t]?"bg-red-300":"bg-green-300"),children:(0,n.jsx)("span",{style:{transform:"translateX(1px)"},children:t+1})}),(0,n.jsx)("span",{children:e.title}),"ok"===d[t]&&(0,n.jsx)(r.Z,{size:16,className:"text-green-500"}),"failed"===d[t]&&(0,n.jsx)(a.Z,{size:16,className:"text-red-500"}),"todo"===d[t]&&(0,n.jsx)("span",{className:"text-gray-400 font-thin",children:"ToDo"})]})}),(0,n.jsxs)(i.vF,{children:[e.content,(0,n.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,n.jsx)(o.z,{variant:"outline",onClick:()=>{let e=[...d];e[t]="failed",h(e),localStorage.setItem(s,JSON.stringify(e)),u("")},children:"Failed"}),(0,n.jsxs)(o.z,{onClick:()=>{let e=[...d];e[t]="ok",h(e),localStorage.setItem(s,JSON.stringify(e)),u("")},children:["Done",(0,n.jsx)("span",{className:"ml-2",children:"\uD83C\uDF89"})]})]})]})]}))})}},13400:function(e,t,s){"use strict";s.d(t,{q:function(){return h}});var n=s(85893),i=s(22725),r=s(88578),a=s(8117),l=s(5),o=s(41664),c=s.n(o),d=s(77522);let h=e=>{let{exercise:t}=e,s=(0,n.jsx)(r.X,{vizName:t.practiceSandbox,height:"500px",fileToOpen:t.fileToOpen}),o=(0,n.jsx)(r.X,{vizName:t.solutionSandbox,height:"500px",fileToOpen:t.fileToOpen});return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(a.C,{children:"To Do"}),(0,n.jsx)("div",{className:"mt-4",children:t.toDo})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(a.C,{children:"Why it matters"}),(0,n.jsx)("div",{className:"mt-4 pl-4",children:t.whyItMatters})]})]}),(0,n.jsxs)(i.mQ,{defaultValue:"practice",className:"relative",children:[(0,n.jsx)("div",{className:"flex justify-center items-center",children:(0,n.jsxs)(i.dr,{children:[(0,n.jsx)(i.SP,{value:"practice",children:"Practice"}),(0,n.jsx)(i.SP,{value:"solution",children:"Solution"})]})}),(0,n.jsxs)(i.nU,{value:"practice",children:[(0,n.jsx)("div",{className:"my-4",children:s}),(0,n.jsx)("div",{className:"absolute right-0",children:(0,n.jsx)(c(),{className:(0,l.d)({size:"sm",variant:"destructive"}),href:"/sandbox?vizName="+t.practiceSandbox,target:"_blank",children:"Show full screen"})})]}),(0,n.jsxs)(i.nU,{value:"solution",children:[(0,n.jsx)("div",{className:"my-4",children:o}),(0,n.jsx)("div",{className:"absolute right-0",children:(0,n.jsx)(c(),{className:(0,d.cn)((0,l.d)({size:"sm",variant:"destructive"}),"no-underline"),href:"/sandbox?vizName="+t.solutionSandbox,target:"_blank",children:"Show full screen"})})]})]})]})}},41843:function(e,t,s){"use strict";s.d(t,{p:function(){return c}});var n=s(85893),i=s(49700),r=s(63476),a=s(17414),l=s(41664),o=s.n(l);let c=e=>{let{children:t,title:s,seoDescription:l,previousTocItem:c,nextTocItem:d}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.A,{title:s,seoDescription:l}),(0,n.jsx)(i.Z,{}),(0,n.jsx)("div",{className:"wrapper",children:t}),(0,n.jsxs)("div",{className:"flex justify-center items-center space-x-6 my-24 py-12  bg-muted/50",children:[c?(0,n.jsxs)(o(),{href:c.link,className:"text-gray-500 no-underline flex flex-col justify-start items-end w-96 h-32 border-r border-black  p-8 hover:bg-muted ",children:[(0,n.jsx)("span",{className:"uppercase font-light text-transparent bg-gradient-to-l to-fuchsia-300 from-blue-400 bg-clip-text",children:"← Previous"}),(0,n.jsx)("p",{children:c.name})]}):(0,n.jsx)("div",{className:"w-96"}),d&&(0,n.jsxs)(o(),{href:d.link,className:"text-gray-500 no-underline flex flex-col justify-start w-96 h-32 border-l border-black  p-8 hover:bg-muted ",children:[(0,n.jsx)("span",{className:"uppercase font-light text-transparent bg-gradient-to-l from-fuchsia-300 to-blue-400 bg-clip-text",children:"Next →"}),(0,n.jsx)("p",{children:d.name})]})]}),(0,n.jsx)("div",{className:"wrapper",children:(0,n.jsx)(r.Z,{})})]})}},80615:function(e,t,s){"use strict";s.d(t,{Y:function(){return i}});var n=s(85893);let i=e=>{let{children:t}=e;return(0,n.jsx)("p",{className:"text-sm text-gray-500 max-w-xs italic text-center mt-4 font-light",children:t})}},3572:function(e,t,s){"use strict";s.d(t,{d:function(){return d}});var n=s(85893),i=s(32581),r=s(15660),a=s.n(r),l=s(67294),o=s(45993),c=s.n(o);let d=e=>{let{code:t}=e,[s,r]=(0,l.useState)(!1),o=(0,l.useRef)(null);(0,l.useEffect)(()=>{o.current&&a().highlightElement(o.current)},[o,t]);let d=(0,n.jsx)("div",{onClick:()=>{navigator.clipboard.writeText(t),r(!0)},className:c().codeChunckCopyButton,children:s?"Copied":(0,n.jsx)(i.Z,{size:14,style:{padding:0}})});return(0,n.jsxs)("div",{className:"mb-6 relative",children:[(0,n.jsx)("pre",{className:"rounded-md line-numbers",children:(0,n.jsx)("code",{ref:o,className:"language-javascript",children:t})}),(0,n.jsx)("div",{className:c().copyButtonContainer,children:d})]})}},7826:function(e,t,s){"use strict";s.d(t,{Qd:function(){return c},UQ:function(){return o},o4:function(){return d},vF:function(){return h}});var n=s(85893),i=s(67294),r=s(47398),a=s(8971),l=s(77522);let o=r.fC,c=i.forwardRef((e,t)=>{let{className:s,...i}=e;return(0,n.jsx)(r.ck,{ref:t,className:(0,l.cn)("border-b",s),...i})});c.displayName="AccordionItem";let d=i.forwardRef((e,t)=>{let{className:s,children:i,...o}=e;return(0,n.jsx)(r.h4,{className:"flex mt-0 pb-0 font-normal",children:(0,n.jsxs)(r.xz,{ref:t,className:(0,l.cn)("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",s),...o,children:[i,(0,n.jsx)(a.Z,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})})});d.displayName=r.xz.displayName;let h=i.forwardRef((e,t)=>{let{className:s,children:i,...a}=e;return(0,n.jsx)(r.VY,{ref:t,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...a,children:(0,n.jsx)("div",{className:(0,l.cn)("pb-4 pt-0",s),children:i})})});h.displayName=r.VY.displayName},22725:function(e,t,s){"use strict";s.d(t,{SP:function(){return c},dr:function(){return o},mQ:function(){return l},nU:function(){return d}});var n=s(85893),i=s(67294),r=s(60434),a=s(77522);let l=r.fC,o=i.forwardRef((e,t)=>{let{className:s,...i}=e;return(0,n.jsx)(r.aV,{ref:t,className:(0,a.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...i})});o.displayName=r.aV.displayName;let c=i.forwardRef((e,t)=>{let{className:s,...i}=e;return(0,n.jsx)(r.xz,{ref:t,className:(0,a.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...i})});c.displayName=r.xz.displayName;let d=i.forwardRef((e,t)=>{let{className:s,...i}=e;return(0,n.jsx)(r.VY,{ref:t,className:(0,a.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...i})});d.displayName=r.VY.displayName},16911:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return h}});var n=s(85893);s(67294);var i=s(43710),r=s(41843),a=s(11236),l=s(3572),o=s(47498),c=s(80615),d=s(13400);function h(){let e=a.Y.find(e=>"/course/axis/margin-and-translation"===e.link);return e?(0,n.jsxs)(r.p,{title:e.name,seoDescription:"",nextTocItem:a.Y.find(e=>"/course/axis/bottom-axis"===e.link),previousTocItem:a.Y.find(e=>"/course/axis/introduction"===e.link),children:[(0,n.jsx)(i.Z,{title:e.name,lessonStatus:e.status,readTime:e.readTime,selectedLesson:e,description:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("p",{children:["Most chart types use a ",(0,n.jsx)("b",{children:"bottom"})," and a ",(0,n.jsx)("b",{children:"left"})," axis."]}),(0,n.jsxs)("p",{children:["In these cases, we need to ",(0,n.jsx)("b",{children:"leave space"})," for tick labels and axis titles. Let’s look at how to implement this effectively."]})]})}),(0,n.jsx)("h2",{children:"SVG Area and Bounds Area"}),(0,n.jsxs)("p",{children:["Imagine an SVG area with a ",(0,n.jsx)("code",{children:"width"})," of 500px and a"," ",(0,n.jsx)("code",{children:"height"})," of 300px."]}),(0,n.jsxs)("p",{children:["The left and bottom axes aren’t displayed right at the SVG border. Instead, we add ",(0,n.jsx)("b",{children:"margins"})," on all sides: left, right, bottom, and top."]}),(0,n.jsxs)("p",{children:["The area within these margins is known as the ",(0,n.jsx)("b",{children:"bounds"}),", where the chart content is positioned between the x and y axes. In our code, we’ll refer to the width and height of this bounds area as"," ",(0,n.jsx)("code",{children:"boundsWidth"})," and ",(0,n.jsx)("code",{children:"boundsHeight"}),"."]}),(0,n.jsxs)("div",{className:"flex flex-col items-center mt-8 mb-12",children:[(0,n.jsx)("img",{src:"/excalidraw/bounds-explanation.png",style:{maxWidth:750},alt:"Anatomy of the chart areas: some margins are set all around the SVG area. The area inside is called the Bounds."}),(0,n.jsx)(c.Y,{children:"Anatomy of the chart areas: some margins are set all around the SVG area. The area inside is called the Bounds."})]}),(0,n.jsx)("h2",{children:"Implementation"}),(0,n.jsx)("p",{children:"A chart component often starts by defining its margins. An object with 4 properties is ideal for that:"}),(0,n.jsx)(l.d,{code:"\nconst MARGIN = {\n  top: 10,\n  right: 30,\n  bottom: 50,\n  left: 30\n}\n      ".trim()}),(0,n.jsxs)("p",{children:["Since the chart component has defined ",(0,n.jsx)("code",{children:"width"})," and"," ",(0,n.jsx)("code",{children:"height"}),", we can easily determine the dimensions of the bounds area, referred to as ",(0,n.jsx)("code",{children:"boundsWidth"})," and"," ",(0,n.jsx)("code",{children:"boundsHeight"}),":"]}),(0,n.jsx)(l.d,{code:"\nconst boundsWidth = width - MARGIN.right - MARGIN.left;\nconst boundsHeight = height - MARGIN.top - MARGIN.bottom;\n      ".trim()}),(0,n.jsx)("h3",{children:"\uD83E\uDE84 The tricky part"}),(0,n.jsx)("p",{children:"Finally the svg is going to be rendered like this:"}),(0,n.jsx)(l.d,{code:'\n<svg width={width} height={height}>\n  <g\n    width={boundsWidth}\n    height={boundsHeight}\n    transform={"translate(" + MARGIN.left + " , " + MARGIN.top].join(\',\')})"}\n  >\n    // ... all shapes go here\n  </g>\n</svg>\n      '.trim()}),(0,n.jsx)("p",{children:"What's going on here? \uD83D\uDE31"}),(0,n.jsxs)("p",{children:["1️⃣ The SVG area is created as usual with the ",(0,n.jsx)("code",{children:"svg"})," element, along with the specified ",(0,n.jsx)("code",{children:"width"})," and ",(0,n.jsx)("code",{children:"height"}),"."]}),(0,n.jsxs)("p",{children:["2️⃣ The ",(0,n.jsx)("code",{children:"g"})," element is used to group other SVG elements, similar to how a ",(0,n.jsx)("code",{children:"div"})," works in HTML. This group represents the bounds, defined by its ",(0,n.jsx)("code",{children:"boundsWidth"})," and"," ",(0,n.jsx)("code",{children:"boundsHeight"})," dimensions!"]}),(0,n.jsxs)("p",{children:["3️⃣ The ",(0,n.jsx)("code",{children:"transform"})," property is used to translate the bounds slightly to the right and down, creating space for the left and top margins!"]}),(0,n.jsx)("h2",{children:"Exercices"}),(0,n.jsx)(o.v,{localStorageId:e.link,exercises:[{title:(0,n.jsx)("span",{children:"Let's translate this! ↔️"}),content:(0,n.jsx)(d.q,{exercise:x[0]})},{title:(0,n.jsx)("span",{children:"Bubble plot kick off \uD83E\uDEE7"}),content:(0,n.jsx)(d.q,{exercise:x[1]})}]}),(0,n.jsx)("h2",{children:"Drawing the Axis"}),(0,n.jsxs)("p",{children:["Now that we’ve created space for it, it’s time to ",(0,n.jsx)("b",{children:"draw the axis"}),". Let’s build some reusable components for this!"]})]}):null}let x=[{whyItMatters:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("p",{children:"Almost all graphs use this translation mecanism! Let's code it once to integrate it for ever!"})}),toDo:(0,n.jsxs)("ul",{children:[(0,n.jsxs)("li",{children:["The ",(0,n.jsx)("code",{children:"Graph"})," component renders a SVG are that is 500px"," ",(0,n.jsx)("code",{children:"width"})," and 300px ",(0,n.jsx)("code",{children:"height"}),"."]}),(0,n.jsxs)("li",{children:["Fill the full SVG area with a ",(0,n.jsx)("code",{children:"rect"}),". Use a color of"," ",(0,n.jsx)("code",{children:"lightgrey"})," and a ",(0,n.jsx)("code",{children:"fillOpacity"})," of"," ",(0,n.jsx)("code",{children:".3"})]}),(0,n.jsxs)("li",{children:["The component define its margin as a const: ",(0,n.jsx)("code",{children:"100px"})," at the left and bottom, ",(0,n.jsx)("code",{children:"30px"})," at the top and right"]}),(0,n.jsxs)("li",{children:["Create a bounds area. Fill it with a ",(0,n.jsx)("code",{children:"lightgrey"})," rectangle"]}),(0,n.jsxs)("li",{children:["Two circles are drawn within the rectangle. In a dataset where both the X and Y axes range from 0 to 100, render the circles at coordinates ",(0,n.jsx)("code",{children:"(33, 33)"})," and ",(0,n.jsx)("code",{children:"(66, 66)"}),"."]})]}),practiceSandbox:"exercise/BoundsAreaTranslationPractice",solutionSandbox:"exercise/BoundsAreaTranslationSolution",fileToOpen:"Graph.tsx"},{whyItMatters:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{children:"Let's remind how to loop on a dataset to render shape."}),(0,n.jsx)("p",{children:"Oh and let's introduce a new scale type too!"})]}),toDo:(0,n.jsxs)("ul",{children:[(0,n.jsxs)("li",{children:["This time, loop on ",(0,n.jsx)("code",{children:"data"})," to render ",(0,n.jsx)("b",{children:"10 circles"}),", one for each item in the dataset."]}),(0,n.jsxs)("li",{children:["There is a ",(0,n.jsx)("code",{children:"size"})," property for each data item. Use it to control the circle size!"]}),(0,n.jsxs)("li",{children:["Data must be mapped to circle ",(0,n.jsx)("b",{children:"area"}),", not to circle ",(0,n.jsx)("b",{children:"radius"}),". Use the",(0,n.jsx)("code",{children:"scaleSqrt"})," function of d3 for that!"]})]}),practiceSandbox:"exercise/BubblePlotKickOffPractice",solutionSandbox:"exercise/BubblePlotKickOffSolution",fileToOpen:"Graph.tsx"}]},45993:function(e){e.exports={codeChunckCopyButton:"code-block_codeChunckCopyButton__yPrL_",copyButtonContainer:"code-block_copyButtonContainer__BrX9E"}}},function(e){e.O(0,[2343,7754,7823,9484,8190,3710,9774,2888,179],function(){return e(e.s=26327)}),_N_E=e.O()}]);