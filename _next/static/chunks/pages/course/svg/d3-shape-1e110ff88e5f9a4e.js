(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5142],{46046:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/course/svg/d3-shape",function(){return s(68119)}])},88578:function(e,t,s){"use strict";s.d(t,{X:function(){return i}});var n=s(85893);s(67294);let i=e=>{let{vizName:t}=e;return(0,n.jsx)("iframe",{src:"https://codesandbox.io/embed/github/holtzy/react-graph-gallery/tree/main/viz/"+t+"?fontsize=14&hidenavigation=1&theme=dark&expanddevtools=0",style:{width:"100%",height:"500px",border:"solid",borderWidth:2,borderRadius:"4px",overflow:"hidden"},allow:"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking",sandbox:"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"})}},47498:function(e,t,s){"use strict";s.d(t,{v:function(){return d}});var n=s(85893),i=s(7826),r=s(13742),a=s(61108),l=s(67294),c=s(5),o=s(77522);let d=e=>{let{exercises:t,localStorageId:s}=e,[d,h]=(0,l.useState)([]),[u,x]=(0,l.useState)("");return(0,l.useEffect)(()=>{let e=localStorage.getItem(s),n=e?JSON.parse(e):Array(t.length).fill("todo");h(n)},[]),(0,n.jsx)(i.UQ,{value:u,onValueChange:x,type:"single",collapsible:!0,className:"w-full",children:t.map((e,t)=>(0,n.jsxs)(i.Qd,{value:"item-"+t,children:[(0,n.jsx)(i.o4,{className:"no-decoration hover:bg-gray-50",children:(0,n.jsxs)("div",{className:"text-sm flex justify-start gap-2 items-center",children:[(0,n.jsx)("div",{className:(0,o.cn)("text-xs h-6 w-6 flex justify-center items-center rounded-full text-center leading-none","todo"===d[t]?"bg-gray-200":"failed"===d[t]?"bg-red-300":"bg-green-300"),children:(0,n.jsx)("span",{style:{transform:"translateX(1px)"},children:t+1})}),(0,n.jsx)("span",{children:e.title}),"ok"===d[t]&&(0,n.jsx)(r.Z,{size:16,className:"text-green-500"}),"failed"===d[t]&&(0,n.jsx)(a.Z,{size:16,className:"text-red-500"}),"todo"===d[t]&&(0,n.jsx)("span",{className:"text-gray-400 font-thin",children:"ToDo"})]})}),(0,n.jsxs)(i.vF,{children:[e.content,(0,n.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,n.jsx)(c.z,{variant:"outline",onClick:()=>{let e=[...d];e[t]="failed",h(e),localStorage.setItem(s,JSON.stringify(e)),x("")},children:"Failed"}),(0,n.jsxs)(c.z,{onClick:()=>{let e=[...d];e[t]="ok",h(e),localStorage.setItem(s,JSON.stringify(e)),x("")},children:["Done",(0,n.jsx)("span",{className:"ml-2",children:"\uD83C\uDF89"})]})]})]})]}))})}},13400:function(e,t,s){"use strict";s.d(t,{q:function(){return l}});var n=s(85893),i=s(22725),r=s(88578),a=s(8117);let l=e=>{let{exercise:t}=e;return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-4 pt-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(a.C,{children:"To Do"}),(0,n.jsx)("div",{className:"mt-4",children:t.toDo})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(a.C,{children:"Why it matters"}),(0,n.jsx)("div",{className:"mt-4 pl-4",children:t.whyItMatters})]})]}),(0,n.jsxs)(i.mQ,{defaultValue:"practice",className:"",children:[(0,n.jsx)("center",{children:(0,n.jsxs)(i.dr,{children:[(0,n.jsx)(i.SP,{value:"practice",children:"Practice"}),(0,n.jsx)(i.SP,{value:"solution",children:"Solution"})]})}),(0,n.jsx)(i.nU,{value:"practice",children:(0,n.jsx)("div",{className:"full-bleed my-4 max-w-7xl mx-auto",children:(0,n.jsx)(r.X,{vizName:t.practiceSandbox})})}),(0,n.jsx)(i.nU,{value:"solution",children:(0,n.jsx)("div",{className:"full-bleed my-4 max-w-7xl mx-auto",children:(0,n.jsx)(r.X,{vizName:t.solutionSandbox})})})]})]})}},41843:function(e,t,s){"use strict";s.d(t,{p:function(){return o}});var n=s(85893),i=s(49700),r=s(63476),a=s(17414),l=s(41664),c=s.n(l);let o=e=>{let{children:t,title:s,seoDescription:l,previousTocItem:o,nextTocItem:d}=e;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.A,{title:s,seoDescription:l}),(0,n.jsx)(i.Z,{}),(0,n.jsx)("div",{className:"wrapper",children:t}),(0,n.jsxs)("div",{className:"flex justify-center items-center space-x-6 my-24 py-12  bg-muted/50",children:[o?(0,n.jsxs)(c(),{href:o.link,className:"text-gray-500 no-underline flex flex-col justify-start items-end w-96 h-32 border-r border-black  p-8 hover:bg-muted ",children:[(0,n.jsx)("span",{className:"uppercase font-light text-transparent bg-gradient-to-l to-fuchsia-300 from-blue-400 bg-clip-text",children:"← Previous"}),(0,n.jsx)("p",{children:o.name})]}):(0,n.jsx)("div",{className:"w-96"}),d&&(0,n.jsxs)(c(),{href:d.link,className:"text-gray-500 no-underline flex flex-col justify-start w-96 h-32 border-l border-black  p-8 hover:bg-muted ",children:[(0,n.jsx)("span",{className:"uppercase font-light text-transparent bg-gradient-to-l from-fuchsia-300 to-blue-400 bg-clip-text",children:"Next →"}),(0,n.jsx)("p",{children:d.name})]})]}),(0,n.jsx)("div",{className:"wrapper",children:(0,n.jsx)(r.Z,{})})]})}},63265:function(e,t,s){"use strict";s.d(t,{D:function(){return i}});var n=s(85893);let i=e=>{let{text:t}=e;return(0,n.jsxs)("div",{className:"hidden absolute w-60 top-1/2 -right-10 border-l text-card-foreground border-card-foreground h-28 translate-x-full -translate-y-1/2 xl:flex items-center ",children:[(0,n.jsx)("span",{className:"",children:"→"}),(0,n.jsx)("span",{className:"text-sm ml-2 opacity-70",children:t})]})}},80615:function(e,t,s){"use strict";s.d(t,{Y:function(){return i}});var n=s(85893);let i=e=>{let{children:t}=e;return(0,n.jsx)("p",{className:"text-sm text-gray-500 max-w-xs italic text-center mt-4 font-light",children:t})}},3572:function(e,t,s){"use strict";s.d(t,{d:function(){return d}});var n=s(85893),i=s(32581),r=s(15660),a=s.n(r),l=s(67294),c=s(45993),o=s.n(c);let d=e=>{let{code:t}=e,[s,r]=(0,l.useState)(!1),c=(0,l.useRef)(null);(0,l.useEffect)(()=>{c.current&&a().highlightElement(c.current)},[c,t]);let d=(0,n.jsx)("div",{onClick:()=>{navigator.clipboard.writeText(t),r(!0)},className:o().codeChunckCopyButton,children:s?"Copied":(0,n.jsx)(i.Z,{size:14,style:{padding:0}})});return(0,n.jsxs)("div",{className:"mb-6 relative",children:[(0,n.jsx)("pre",{className:"rounded-md line-numbers",children:(0,n.jsx)("code",{ref:c,className:"language-javascript",children:t})}),(0,n.jsx)("div",{className:o().copyButtonContainer,children:d})]})}},7826:function(e,t,s){"use strict";s.d(t,{Qd:function(){return o},UQ:function(){return c},o4:function(){return d},vF:function(){return h}});var n=s(85893),i=s(67294),r=s(47398),a=s(8971),l=s(77522);let c=r.fC,o=i.forwardRef((e,t)=>{let{className:s,...i}=e;return(0,n.jsx)(r.ck,{ref:t,className:(0,l.cn)("border-b",s),...i})});o.displayName="AccordionItem";let d=i.forwardRef((e,t)=>{let{className:s,children:i,...c}=e;return(0,n.jsx)(r.h4,{className:"flex mt-0 pb-0 font-normal",children:(0,n.jsxs)(r.xz,{ref:t,className:(0,l.cn)("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",s),...c,children:[i,(0,n.jsx)(a.Z,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})})});d.displayName=r.xz.displayName;let h=i.forwardRef((e,t)=>{let{className:s,children:i,...a}=e;return(0,n.jsx)(r.VY,{ref:t,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...a,children:(0,n.jsx)("div",{className:(0,l.cn)("pb-4 pt-0",s),children:i})})});h.displayName=r.VY.displayName},22725:function(e,t,s){"use strict";s.d(t,{SP:function(){return o},dr:function(){return c},mQ:function(){return l},nU:function(){return d}});var n=s(85893),i=s(67294),r=s(60434),a=s(77522);let l=r.fC,c=i.forwardRef((e,t)=>{let{className:s,...i}=e;return(0,n.jsx)(r.aV,{ref:t,className:(0,a.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...i})});c.displayName=r.aV.displayName;let o=i.forwardRef((e,t)=>{let{className:s,...i}=e;return(0,n.jsx)(r.xz,{ref:t,className:(0,a.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...i})});o.displayName=r.xz.displayName;let d=i.forwardRef((e,t)=>{let{className:s,...i}=e;return(0,n.jsx)(r.VY,{ref:t,className:(0,a.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...i})});d.displayName=r.VY.displayName},68119:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var n=s(85893);s(67294);var i=s(43710),r=s(41843),a=s(11236),l=s(41664),c=s.n(l),o=s(3572),d=s(63265),h=s(47498),u=s(13400),x=s(22725),p=s(80615);function f(){let e=a.Y.find(e=>"/course/svg/d3-shape"===e.link);return e?(0,n.jsxs)(r.p,{title:e.name,seoDescription:"",nextTocItem:a.Y.find(e=>"/course/svg/tips-and-tricks"===e.link),previousTocItem:a.Y.find(e=>"/course/svg/path-element"===e.link),children:[(0,n.jsx)(i.Z,{title:e.name,lessonStatus:e.status,readTime:e.readTime,selectedLesson:e,description:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("p",{children:["Some shapes can be quite complex—like rings, slices, paths, polygons, and curves. Manually creating the ",(0,n.jsx)("code",{children:"d"})," ","attribute for these shapes would be a nightmare!"]}),(0,n.jsxs)("p",{children:["Fortunately, D3 provides a module called ",(0,n.jsx)("code",{children:"d3-shape"})," ","specifically for handling all these shapes. Let’s explore how it can simplify our work."]})]})}),(0,n.jsx)("h2",{children:"Building the line you need"}),(0,n.jsxs)("p",{children:["In the previous lesson we introduced the ",(0,n.jsx)("code",{children:"path"})," element, and showed that a line chart is basically rendered this way:"]}),(0,n.jsx)(o.d,{code:'\n<svg height="300" width="400">\n  <path\n    d="M0 105 L100 200 L200 200 L300 20 L350 120"\n    fill="none"\n    stroke="#69b3a2"\n  />\n</svg>\n'.trim()}),(0,n.jsxs)("p",{children:["We also learned that d3 includes a module called ",(0,n.jsx)("code",{children:"d3-shape"}),", which offers a variety of helper functions for building shapes. These functions take your data and automatically generate the ",(0,n.jsx)("code",{children:"d"})," ","attribute for a path!"]}),(0,n.jsxs)("p",{children:["Now, let’s explore how to use the ",(0,n.jsx)("code",{children:"d3.line()"})," function to create the path for a line chart:"]}),(0,n.jsx)("p",{children:(0,n.jsx)("br",{})}),(0,n.jsxs)(x.mQ,{defaultValue:"1",children:[(0,n.jsxs)(x.dr,{className:"my-4",children:[(0,n.jsxs)(x.SP,{value:"1",children:[(0,n.jsx)("span",{className:"mr-2 text-xs h-6 w-6 flex justify-center items-center rounded-full text-center leading-none bg-black text-white",children:"1"}),"Data"]}),(0,n.jsxs)(x.SP,{value:"2",children:[(0,n.jsx)("span",{className:"mr-2 text-xs h-6 w-6 flex justify-center items-center rounded-full text-center leading-none bg-black text-white",children:"2"})," ","Build Path Generator"]}),(0,n.jsxs)(x.SP,{value:"3",children:[(0,n.jsx)("span",{className:"mr-2 text-xs h-6 w-6 flex justify-center items-center rounded-full text-center leading-none bg-black text-white",children:"3"})," ","Use Path Generator"]})]}),(0,n.jsxs)(x.nU,{value:"1",className:"pl-4 border-l-4  border-l-fuchsia-600",children:[(0,n.jsx)(o.d,{code:"\nconst data = [\n  { x: 0, y: 40 },\n  { x: 50, y: 70 },\n  { x: 100, y: 150 },\n  ...\n];\n\n      ".trim()}),(0,n.jsxs)("p",{children:["Everything begins with a ",(0,n.jsx)("code",{children:"data"})," object, which is almost always an ",(0,n.jsx)("b",{children:"array"}),"."]}),(0,n.jsxs)("p",{children:["Each item in the array represents a ",(0,n.jsx)("b",{children:"data point"})," and is usually an ",(0,n.jsx)("b",{children:"object"})," with ",(0,n.jsx)("b",{children:"properties"}),"."]}),(0,n.jsx)("p",{children:"For a line chart like the one above, you'll need at least two properties: one for the x-axis position and one for the y-axis position."})]}),(0,n.jsxs)(x.nU,{value:"2",className:"pl-4 border-l-4  border-l-fuchsia-600",children:[(0,n.jsx)(o.d,{code:"\nconst lineGenerator = line()\n  .x((d) => d.x)\n  .y((d) => d.y);\n      ".trim()}),(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsx)(d.D,{text:(0,n.jsx)("p",{children:"This syntax may seem a bit unusual. It's called method chaining and is widely used in d3.js!"})}),(0,n.jsxs)("p",{children:["Now, we need to create a ",(0,n.jsx)("code",{children:"lineGenerator"}),", which is a function that takes data as input and returns a"," ",(0,n.jsx)("code",{children:"string"})," representing the path. In the example above, we named it ",(0,n.jsx)("code",{children:"lineGenerator"}),"."]}),(0,n.jsxs)("p",{children:["This is made possible by the ",(0,n.jsx)("code",{children:"line()"})," function in d3.js! This function returns another function."]}),(0,n.jsxs)("p",{children:["Using ",(0,n.jsx)("b",{children:"method chaining"}),", we modify the"," ",(0,n.jsx)("code",{children:"lineGenerator"})," by applying two changes:"]}),(0,n.jsxs)("ul",{children:[(0,n.jsxs)("li",{children:[(0,n.jsx)("code",{children:"x()"})," allows us to set the accessor function for the x positions."]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("code",{children:"y()"})," does it for y positions"]})]}),(0,n.jsxs)("p",{children:["An accessor function takes a data item and returns its x position. In our case, for each data item ",(0,n.jsx)("code",{children:"d"}),", we return",(0,n.jsx)("code",{children:"d.x"})]})]})]}),(0,n.jsxs)(x.nU,{value:"3",className:"pl-4 border-l-4  border-l-fuchsia-600",children:[(0,n.jsx)(o.d,{code:'\nconst pathData = lineGenerator(data);\n\n// console.log(pathData)\n// "M0 40 L50 70 L100 150 L150 150 L200 200 L250 50 L300 90"\n      '}),(0,n.jsxs)("p",{children:["Once the ",(0,n.jsx)("code",{children:"lineGenerator"})," function is set up, you can simply call it with your data, and it will generate the path ready to be drawn!"]})]})]}),(0,n.jsx)("h2",{children:"Money back! The syntax is weird!"}),(0,n.jsxs)("p",{children:["When I first started using d3, I found this ",(0,n.jsx)("b",{children:"method chaining"})," ","syntax very frustrating / weird / unusual / hard to read."," "]}),(0,n.jsx)("p",{children:"I was more used to functions that take parameters and do stuff with it:"}),(0,n.jsx)(o.d,{code:"\n// Create a function that expects 2 parameters\nconst multiply = (x, y) => x * y;\n\n// Use the function, providing it the 2 paramters\nmultiply(4, 6))\n// 24\n      ".trim()}),(0,n.jsx)("p",{children:"But that's how d3.js works, and I promise you will soon be used to it!"}),(0,n.jsx)("h2",{children:"Other helpers"}),(0,n.jsxs)("p",{children:["The ",(0,n.jsx)("code",{children:"d3.line()"})," function is one of the most versatile in d3, enabling the creation of key chart types like"," ",(0,n.jsx)(c(),{href:"/line-chart",children:"line"})," charts,"," ",(0,n.jsx)(c(),{href:"/lollipop-plot",children:"lollipop"})," plots, and even"," ",(0,n.jsx)(c(),{href:"/radar-chart",children:"radar"})," charts."]}),(0,n.jsxs)("p",{children:["However, you can’t use it to create a donut chart! For that, you’ll need to draw ",(0,n.jsx)("b",{children:"arcs"}),", and d3 provides a specific helper for this:"," ",(0,n.jsx)("code",{children:"d3.arc()"}),"."]}),(0,n.jsx)("p",{children:(0,n.jsx)("br",{})}),(0,n.jsxs)("p",{children:["The ",(0,n.jsx)("code",{children:"d3-shape"})," module includes"," ",(0,n.jsx)("a",{href:"https://d3js.org/d3-shape",children:"15 functions"})," in total. Here's a diagram that highlights the most important ones, which can help you build about 80% of chart types!"]}),(0,n.jsx)("p",{children:(0,n.jsx)("br",{})}),(0,n.jsxs)("center",{children:[(0,n.jsx)("img",{src:"/excalidraw/d3-shape-main-functions.png",width:600})," ",(0,n.jsxs)(p.Y,{children:["Main functions of the ",(0,n.jsx)("code",{children:"d3-shape"})," module"]})]}),(0,n.jsx)("p",{children:(0,n.jsx)("br",{})}),(0,n.jsxs)("blockquote",{className:"bg-fuchsia-50 py-8",children:[(0,n.jsxs)("p",{children:["Describing each of these functions in detail one by one would be tedious. Instead, we’ll introduce them ",(0,n.jsx)("b",{children:"gradually"})," throughout the course."]}),(0,n.jsxs)("p",{children:[(0,n.jsx)("br",{}),(0,n.jsx)("br",{})]}),(0,n.jsxs)("p",{children:["What’s crucial to remember is that they all share a"," ",(0,n.jsx)("b",{children:"common structure"}),": path generators, method chaining, and accessor functions are key concepts you'll need to fully grasp."]})]}),(0,n.jsx)("h2",{children:"Exercises"}),(0,n.jsx)(h.v,{localStorageId:e.link,exercises:[{title:(0,n.jsxs)("span",{children:[(0,n.jsx)("code",{children:"d3.line()"})," basic usage"]}),content:(0,n.jsx)(u.q,{exercise:j[0]})},{title:(0,n.jsx)("span",{children:"Changing the accessor function"}),content:(0,n.jsx)(u.q,{exercise:j[1]})},{title:(0,n.jsxs)("span",{children:["Switching to an area with ",(0,n.jsx)("code",{children:"d3.area()"})]}),content:(0,n.jsx)(u.q,{exercise:j[2]})}]})," "]}):null}let j=[{whyItMatters:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("p",{children:["The logic behind each functions of the ",(0,n.jsx)("code",{children:"d3-shape"})," module is the same."]}),(0,n.jsx)("p",{children:"If you have a good understanding of d3.line(), you're on the right way to build any other chart type!"})]}),toDo:(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{children:"Fill the code in the sandbox below."}),(0,n.jsx)("li",{children:"You must create a line chart based on the dataset provided at the beginning of the file."})]}),practiceSandbox:"exercise/d3LineFunctionBasicPractice",solutionSandbox:"exercise/d3LineFunctionBasicSolution"},{whyItMatters:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("p",{children:"Accessor functions are a fundamental concept in d3.js."}),(0,n.jsx)("p",{children:"They’re incredibly useful because they allow d3 to work with any structure of input data, giving you the flexibility to handle different data formats."})]}),toDo:(0,n.jsxs)("ul",{children:[(0,n.jsxs)("li",{children:["This time, the data format is slightly different, with the x position stored in a ",(0,n.jsx)("code",{children:"xAxisPosition"})," property."]}),(0,n.jsx)("li",{children:"Update the accessor function to create the line chart again."})]}),practiceSandbox:"exercise/d3LineFunctionChangeAccessorPractice",solutionSandbox:"exercise/d3LineFunctionChangeAccessorSolution"},{whyItMatters:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("p",{children:["Using the ",(0,n.jsx)("code",{children:"area()"})," function is almost the same as the"," ",(0,n.jsx)("code",{children:"line()"})," function."]}),(0,n.jsxs)("p",{children:["That's the magic of the ",(0,n.jsx)("code",{children:"d3-shape"})," module, you switch from one shape to the other easily!"]})]}),toDo:(0,n.jsxs)("ul",{children:[(0,n.jsxs)("li",{children:["Let's switch to an area chart, thanks to the ",(0,n.jsx)("code",{children:"d3.area()"})," ","function. Three methods must be chained to ",(0,n.jsx)("code",{children:"area()"}),":"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("code",{children:"x()"})," is the same as for the line chart."]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("code",{children:"y0()"}),": Y coordinate of the bottom of the area"]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("code",{children:"y1()"})," Y coordinate of the top."]})]}),practiceSandbox:"exercise/d3AreaFunctionPractice",solutionSandbox:"exercise/d3AreaFunctionSolution"}]},45993:function(e){e.exports={codeChunckCopyButton:"code-block_codeChunckCopyButton__yPrL_",copyButtonContainer:"code-block_copyButtonContainer__BrX9E"}}},function(e){e.O(0,[2343,7754,7823,9484,8190,3710,9774,2888,179],function(){return e(e.s=46046)}),_N_E=e.O()}]);