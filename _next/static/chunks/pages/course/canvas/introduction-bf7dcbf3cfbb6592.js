(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[407],{9572:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/course/canvas/introduction",function(){return n(33592)}])},81122:function(e,t,n){"use strict";n.d(t,{$:function(){return c}});var r=n(85893),s=n(67294),i=n(59973),a=n(80615),l=n(88578),o=n(5);let c=e=>{let{VizComponent:t,vizName:n,height:c=400,maxWidth:d=800,caption:h}=e,[u,x]=(0,s.useState)(!1),f=(0,s.useRef)(null),m=(0,i.B)(f);return(0,r.jsx)("div",{style:{marginLeft:"-50vw",left:"50%"},className:"my-4 py-4 w-screen relative",children:u?(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center w-full",children:[(0,r.jsx)("div",{style:{maxWidth:2e3},className:"w-full z-50",children:(0,r.jsx)(l.X,{vizName:n})}),(0,r.jsx)("div",{className:"flex justify-center mt-2",children:(0,r.jsx)(o.z,{size:"sm",onClick:()=>x(!u),children:"Hide Sandbox"})})]}):(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,r.jsx)("div",{className:"bg-gray-100 bg-opacity-50 w-screen flex justify-center z-50 pointer-events-none",children:(0,r.jsx)("div",{style:{height:c,width:"100%",maxWidth:d},ref:f,className:"pointer-events-auto",children:(0,r.jsx)(t,{height:c,width:m.width})})}),(0,r.jsx)(a.Y,{children:h}),(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)(o.z,{size:"sm",onClick:()=>x(!u),children:"Show code"})})]})})}},88578:function(e,t,n){"use strict";n.d(t,{X:function(){return s}});var r=n(85893);n(67294);let s=e=>{let{vizName:t}=e;return(0,r.jsx)("iframe",{src:"https://codesandbox.io/embed/github/holtzy/react-graph-gallery/tree/main/viz/"+t+"?fontsize=14&hidenavigation=1&theme=dark&expanddevtools=0",style:{width:"100%",height:"500px",border:"solid",borderWidth:2,borderRadius:"4px",overflow:"hidden"},allow:"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking",sandbox:"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"})}},41843:function(e,t,n){"use strict";n.d(t,{p:function(){return c}});var r=n(85893),s=n(49700),i=n(63476),a=n(17414),l=n(41664),o=n.n(l);let c=e=>{let{children:t,title:n,seoDescription:l,previousTocItem:c,nextTocItem:d}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.A,{title:n,seoDescription:l}),(0,r.jsx)(s.Z,{}),(0,r.jsx)("div",{className:"wrapper",children:t}),(0,r.jsxs)("div",{className:"flex justify-center items-center space-x-6 my-24 py-12  bg-muted/50",children:[c?(0,r.jsxs)(o(),{href:c.link,className:"text-gray-500 no-underline flex flex-col justify-start items-end w-96 h-32 border-r border-black  p-8 hover:bg-muted ",children:[(0,r.jsx)("span",{className:"uppercase font-light text-transparent bg-gradient-to-l to-fuchsia-300 from-blue-400 bg-clip-text",children:"← Previous"}),(0,r.jsx)("p",{children:c.name})]}):(0,r.jsx)("div",{className:"w-96"}),d&&(0,r.jsxs)(o(),{href:d.link,className:"text-gray-500 no-underline flex flex-col justify-start w-96 h-32 border-l border-black  p-8 hover:bg-muted ",children:[(0,r.jsx)("span",{className:"uppercase font-light text-transparent bg-gradient-to-l from-fuchsia-300 to-blue-400 bg-clip-text",children:"Next →"}),(0,r.jsx)("p",{children:d.name})]})]}),(0,r.jsx)("div",{className:"wrapper",children:(0,r.jsx)(i.Z,{})})]})}},80615:function(e,t,n){"use strict";n.d(t,{Y:function(){return s}});var r=n(85893);let s=e=>{let{children:t}=e;return(0,r.jsx)("p",{className:"text-sm text-gray-500 max-w-xs italic text-center mt-4 font-light",children:t})}},59973:function(e,t,n){"use strict";n.d(t,{B:function(){return s}});var r=n(67294);let s=e=>{let t=()=>({width:e.current?e.current.offsetWidth:0,height:e.current?e.current.offsetHeight:0}),[n,s]=(0,r.useState)(t),i=()=>{s(t())};return(0,r.useEffect)(()=>(window.addEventListener("resize",i),()=>window.removeEventListener("resize",i)),[]),(0,r.useEffect)(()=>{i()},[e]),n}},33592:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return v}});var r=n(85893),s=n(67294),i=n(43710),a=n(41843),l=n(11236),o=n(81122),c=n(88578);let d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e4,t=[];for(let n=0;n<e;n++){let e=10*Math.random(),n=5+4*Math.sin(e)+5*(Math.random()-.1);t.push({x:e,y:n})}return t}();var h=n(43950);let u=e=>{let{yScale:t,pixelsPerTick:n,width:i}=e,a=t.range(),l=(0,s.useMemo)(()=>{let e=a[0]-a[1];return t.ticks(Math.floor(e/n)).map(e=>({value:e,yOffset:t(e)}))},[t]);return(0,r.jsx)(r.Fragment,{children:l.map(e=>{let{value:t,yOffset:n}=e;return(0,r.jsxs)("g",{transform:"translate(0, ".concat(n,")"),shapeRendering:"crispEdges",children:[(0,r.jsx)("line",{x1:-10,x2:i+10,stroke:"#D2D7D3",strokeWidth:.5}),(0,r.jsx)("text",{style:{fontSize:"10px",textAnchor:"middle",transform:"translateX(-20px)",fill:"#D2D7D3"},children:t},t)]},t)})})},x=e=>{let{xScale:t,pixelsPerTick:n,height:i}=e,a=t.range(),l=(0,s.useMemo)(()=>{let e=a[1]-a[0];return t.ticks(Math.floor(e/n)).map(e=>({value:e,xOffset:t(e)}))},[t]);return(0,r.jsx)(r.Fragment,{children:l.map(e=>{let{value:t,xOffset:n}=e;return(0,r.jsxs)("g",{transform:"translate(".concat(n,", 0)"),shapeRendering:"crispEdges",children:[(0,r.jsx)("line",{y1:10,y2:-i-10,stroke:"#D2D7D3",strokeWidth:.5}),(0,r.jsx)("text",{style:{fontSize:"10px",textAnchor:"middle",transform:"translateY(20px)",fill:"#D2D7D3"},children:t},t)]},t)})})},f={top:60,right:60,bottom:60,left:60},m=e=>{let{width:t,height:n,data:i}=e,a=t-f.right-f.left,l=n-f.top-f.bottom,[o,c]=(0,s.useState)(null),d=h.BYU().domain([0,16]).range([l,0]),m=h.BYU().domain([0,10]).range([0,a]),p=(0,s.useRef)(null);return(0,s.useEffect)(()=>{let e=p.current;if(!e)return;let r=e.getContext("2d");r.clearRect(0,0,t,n),i.forEach(e=>{r.beginPath(),r.arc(m(e.x),d(e.y),1,0,2*Math.PI),r.globalAlpha=.5,r.fillStyle="#cb1dd1",r.fill()})},[i,m,d,t,n]),(0,r.jsx)("div",{style:{position:"relative"},children:(0,r.jsxs)("div",{style:{transform:"translate(".concat(f.left,"px, ").concat(f.top,"px)"),width:a,height:l},onMouseMove:e=>{let t=e.nativeEvent.offsetX,n=e.nativeEvent.offsetY,r=null,s=20;i.forEach(e=>{let i=m(e.x),a=d(e.y),l=Math.sqrt((i-t)**2+(a-n)**2);l<s&&(s=l,r={x:i,y:a})}),c(r)},onMouseLeave:()=>c(null),children:[(0,r.jsx)("canvas",{style:{position:"relative"},ref:p,width:a,height:l}),(0,r.jsxs)("svg",{width:a,height:l,style:{position:"absolute",top:0,left:0,overflow:"visible"},children:[(0,r.jsx)(u,{yScale:d,pixelsPerTick:40,width:a}),(0,r.jsx)("g",{transform:"translate(0, ".concat(l,")"),children:(0,r.jsx)(x,{xScale:m,pixelsPerTick:40,height:l})}),o&&(0,r.jsx)("circle",{cx:o.x,cy:o.y,r:10,fill:"red",opacity:.8})]})]})})},p=e=>{let{width:t=700,height:n=400}=e;return(0,r.jsx)(m,{data:d,width:t,height:n})};function v(){let e=l.Y.find(e=>"/course/canvas/introduction"===e.link);return e?(0,r.jsxs)(a.p,{title:e.name,seoDescription:"",nextTocItem:l.Y.find(e=>"/course/canvas/drawing-shapes-with-canvas"===e.link),previousTocItem:l.Y.find(e=>"/course/animation/project"===e.link),children:[(0,r.jsx)(i.Z,{title:e.name,lessonStatus:e.status,readTime:e.readTime,selectedLesson:e,description:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{children:"By now, after completing the previous modules, you’re likely able to draw almost anything on the screen— including interactive elements like tooltips, hover effects, and animations."}),(0,r.jsx)("p",{children:"However, there's a significant bottleneck: performance. Let's explore canvas, a rendering engine that can help solve these issues."})]})}),(0,r.jsx)("h2",{children:"The problem with SVG"}),(0,r.jsx)("p",{children:"Explain why SVG is slow"}),(0,r.jsx)("h3",{children:"Drawing SVG is slow"}),(0,r.jsx)("p",{children:"Explain that it uses CPU only, no GPU acceleration"}),(0,r.jsx)("h3",{children:"SVG is heavy"}),(0,r.jsx)("p",{children:"Each time you draw something in SVG, it is a new line in your DOM! Add some event listener to each element and this becomes so much work for your browser! Last but not least, memory quickly adds up."}),(0,r.jsx)("div",{className:"full-bleed my-4 max-w-7xl mx-auto",children:(0,r.jsx)(c.X,{vizName:"exercise/HoverDeathByStateSolution"})}),(0,r.jsx)("blockquote",{children:"If you have many elements on your graph, and/or require a lot of animations, you must leave SVG for something more performant."}),(0,r.jsx)("h2",{children:"⚡️ What is canvas, and why is it fast"}),(0,r.jsxs)("p",{children:["In web development, rendering complex graphics or animations directly in the browser can be challenging. That’s where the"," ",(0,r.jsx)("strong",{children:"HTML5 canvas"})," element comes in."]}),(0,r.jsx)("p",{children:"The canvas provides a powerful, low-level rendering context for drawing 2D graphics, animations, and even simple games. It's perfect for scenarios where you need high performance and control over drawing pixels, shapes, and paths on the screen."}),(0,r.jsx)("p",{children:"Unlike other approaches like SVG or CSS, the canvas gives you direct access to the drawing surface, allowing for pixel-level control and faster rendering, especially when working with dynamic content or large datasets."}),(0,r.jsx)("p",{children:"In this module, we’ll explore how the canvas works, how to leverage it effectively, and how it can help you overcome performance bottlenecks in your web applications."}),(0,r.jsx)("h2",{children:"Not convinced?"}),(0,r.jsx)("p",{children:"Check the same sandbox, made in Canvas!"}),"ScatterplotCanvasHoverEffectDemo",(0,r.jsx)(o.$,{vizName:"ScatterplotCanvasHoverEffect",VizComponent:p,height:400,maxWidth:600,caption:"A lollipop chart with smooth transition between dataset."}),(0,r.jsx)("h2",{children:"Looks fun, let's code!"}),(0,r.jsx)("p",{children:"Yep, but we kind of have to learn everything from scratch again, so I hope you're ready to sweat!"})]}):null}}},function(e){e.O(0,[2343,7754,3950,8190,3710,9774,2888,179],function(){return e(e.s=9572)}),_N_E=e.O()}]);