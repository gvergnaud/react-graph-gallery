(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1880],{76801:function(e,a,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/example/sankey-bump-chart",function(){return n(73591)}])},73591:function(e,a,n){"use strict";n.r(a),n.d(a,{default:function(){return f}});var t=n(85893);n(67294);var r=n(80153),i=n(43710),l=n(61651),o=n(81122);let s=[{year:1900,name:"Amanda",value:253},{year:1950,name:"Amanda",value:1e3},{year:2e3,name:"Amanda",value:200},{year:1900,name:"Jay",value:12},{year:1950,name:"Jay",value:9},{year:2e3,name:"Jay",value:99},{year:1900,name:"Tom",value:87},{year:1950,name:"Tom",value:82},{year:2e3,name:"Tom",value:12},{year:1900,name:"Xin",value:83},{year:1950,name:"Xin",value:24},{year:2e3,name:"Xin",value:12}];var d=n(94091),u=n(57929),h=n(4127),c=n(88657);let m=(0,c.PKp)().domain(["Amanda","Jay","Tom","Xin"]).range(["#e0ac2b","#e85252","#6689c6","#9a6fb0"]),y=e=>{let{width:a,height:n,data:r}=e,i=p(r);console.log("nodeAndLinksData",i);let l=(0,d.Z)().nodeWidth(26).nodePadding(29).nodeSort((e,a)=>(console.log("node1",e),e.value>a.value?-1:1)).extent([[5,25],[a-5,n-25]]).nodeId(e=>e.id).nodeAlign(u.be),{nodes:o,links:s}=l(i),c=o.map(e=>(console.log("---",e),(0,t.jsx)("g",{children:(0,t.jsx)("rect",{height:e.y1-e.y0,width:l.nodeWidth(),x:e.x0,y:e.y0,stroke:"black",fill:m(String(e.index).split("_")[0]),fillOpacity:.8,rx:.9})},e.index))),y=s.map((e,a)=>{let n=(0,h.Z)(),r=n(e);return(0,t.jsx)("path",{d:r,stroke:"#a53253",fill:"none",strokeOpacity:.1,strokeWidth:e.width},a)});return(0,t.jsx)("div",{children:(0,t.jsxs)("svg",{width:a,height:n,children:[c,y]})})},p=e=>{let a=[],n=[],t={};for(let r in e.forEach(e=>{let n="".concat(e.name,"_").concat(e.year);a.push({id:n,value:e.value}),t[e.name]||(t[e.name]=[]),t[e.name].push(n)}),t){let e=t[r];for(let a=0;a<e.length-1;a++)n.push({source:e[a],target:e[a+1],value:2})}return console.log("***",a),{nodes:a,links:n}},v=e=>{let{width:a=700,height:n=400}=e;return 0===a?null:(0,t.jsx)(y,{data:s,width:a,height:n})};var x=n(56438);let g=(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("p",{children:"A Sankey bump chart is a variation around the bump chart"})});function f(){return(0,t.jsxs)(r.A,{title:"How to build a vertical arc diagram with React and D3.js.",seoDescription:"A step-by-step guide to build an arc diagram. Comes with explanations, code sandboxes, and ready-to-use templates.",children:[(0,t.jsx)(i.Z,{title:"Sankey Bump Chart",description:g,chartType:"sankey"}),(0,t.jsx)("h2",{id:"plot",children:"Plot and code"}),(0,t.jsx)("p",{children:"If you are in a hurry, here is the final plot we're trying to achieve here, together with its code:\uD83D\uDE47‍♂️"}),(0,t.jsx)("p",{children:"TODO"}),(0,t.jsx)(x.J,{isFilled:!0,size:"sm",href:"/sankey",children:"Sankey Diagram section"}),(0,t.jsx)(o.$,{vizName:"SankeyBumpChart",VizComponent:v,maxWidth:500,height:500,caption:"A Sankey Bump chart"}),(0,t.jsx)("div",{className:"full-bleed border-t h-0 bg-gray-100 mb-3 mt-24"}),(0,t.jsx)(l.Z,{chartFamily:"flow"}),(0,t.jsx)("div",{className:"mt-20"})]})}}},function(e){e.O(0,[2343,7754,8657,8190,3710,2594,4590,9774,2888,179],function(){return e(e.s=76801)}),_N_E=e.O()}]);