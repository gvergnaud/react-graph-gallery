(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4164],{6929:function(t,e,r){var n=r(3656).W,i=Math.PI/180;function o(t){return t.text}function a(){return"serif"}function l(){return"normal"}function s(t){return Math.sqrt(t.value)}function c(){return(~~(6*Math.random())-3)*30}function d(){return 1}function h(t){var e=t[0]/t[1];return function(t){return[e*(t*=.1)*Math.cos(t),t*Math.sin(t)]}}function u(){return document.createElement("canvas")}function f(t){return"function"==typeof t?t:function(){return t}}t.exports=function(){var t=[256,256],e=o,r=a,p=s,m=l,y=l,v=c,w=d,g=h,j=[],b=1/0,N=n("word","end"),z=null,_=Math.random,k={},T=u;return k.canvas=function(t){return arguments.length?(T=f(t),k):T},k.start=function(){var n,o,a,l=((n=T()).width=n.height=1,o=Math.sqrt(n.getContext("2d").getImageData(0,0,1,1).data.length>>2),n.width=2048/o,n.height=2048/o,(a=n.getContext("2d")).fillStyle=a.strokeStyle="red",a.textAlign="center",{context:a,ratio:o}),s=function(t){for(var e=[],r=-1;++r<t;)e[r]=0;return e}((t[0]>>5)*t[1]),c=null,d=j.length,h=-1,u=[],f=j.map(function(t,n){return t.text=e.call(this,t,n),t.font=r.call(this,t,n),t.style=m.call(this,t,n),t.weight=y.call(this,t,n),t.rotate=v.call(this,t,n),t.size=~~p.call(this,t,n),t.padding=w.call(this,t,n),t}).sort(function(t,e){return e.size-t.size});return z&&clearInterval(z),z=setInterval(x,0),x(),k;function x(){for(var e=Date.now();Date.now()-e<b&&++h<d&&z;){var r=f[h];r.x=t[0]*(_()+.5)>>1,r.y=t[1]*(_()+.5)>>1,function(t,e,r,n){if(!e.sprite){var o=t.context,a=t.ratio;o.clearRect(0,0,2048/a,2048/a);var l=0,s=0,c=0,d=r.length;for(--n;++n<d;){e=r[n],o.save(),o.font=e.style+" "+e.weight+" "+~~((e.size+1)/a)+"px "+e.font;var h=o.measureText(e.text+"m").width*a,u=e.size<<1;if(e.rotate){var f=Math.sin(e.rotate*i),x=Math.cos(e.rotate*i),p=h*x,m=h*f,y=u*x,v=u*f;h=Math.max(Math.abs(p+v),Math.abs(p-v))+31>>5<<5,u=~~Math.max(Math.abs(m+y),Math.abs(m-y))}else h=h+31>>5<<5;if(u>c&&(c=u),l+h>=2048&&(l=0,s+=c,c=0),s+u>=2048)break;o.translate((l+(h>>1))/a,(s+(u>>1))/a),e.rotate&&o.rotate(e.rotate*i),o.fillText(e.text,0,0),e.padding&&(o.lineWidth=2*e.padding,o.strokeText(e.text,0,0)),o.restore(),e.width=h,e.height=u,e.xoff=l,e.yoff=s,e.x1=h>>1,e.y1=u>>1,e.x0=-e.x1,e.y0=-e.y1,e.hasText=!0,l+=h}for(var w=o.getImageData(0,0,2048/a,2048/a).data,g=[];--n>=0;)if((e=r[n]).hasText){for(var h=e.width,j=h>>5,u=e.y1-e.y0,b=0;b<u*j;b++)g[b]=0;if(null==(l=e.xoff))return;s=e.yoff;for(var N=0,z=-1,_=0;_<u;_++){for(var b=0;b<h;b++){var k=j*_+(b>>5),T=w[(s+_)*2048+(l+b)<<2]?1<<31-b%32:0;g[k]|=T,N|=T}N?z=_:(e.y0++,u--,_--,s++)}e.y1=e.y0+z,e.sprite=g.slice(0,(e.y1-e.y0)*j)}}}(l,r,f,h),r.hasText&&function(e,r,n){t[0],t[1];for(var i,o,a,l=r.x,s=r.y,c=Math.sqrt(t[0]*t[0]+t[1]*t[1]),d=g(t),h=.5>_()?1:-1,u=-h;(i=d(u+=h))&&!(Math.min(Math.abs(o=~~i[0]),Math.abs(a=~~i[1]))>=c);)if(r.x=l+o,r.y=s+a,!(r.x+r.x0<0)&&!(r.y+r.y0<0)&&!(r.x+r.x1>t[0])&&!(r.y+r.y1>t[1])&&(!n||!function(t,e,r){r>>=5;for(var n,i=t.sprite,o=t.width>>5,a=t.x-(o<<4),l=127&a,s=32-l,c=t.y1-t.y0,d=(t.y+t.y0)*r+(a>>5),h=0;h<c;h++){n=0;for(var u=0;u<=o;u++)if((n<<s|(u<o?(n=i[h*o+u])>>>l:0))&e[d+u])return!0;d+=r}return!1}(r,e,t[0]))&&(!n||r.x+r.x1>n[0].x&&r.x+r.x0<n[1].x&&r.y+r.y1>n[0].y&&r.y+r.y0<n[1].y)){for(var f,x=r.sprite,p=r.width>>5,m=t[0]>>5,y=r.x-(p<<4),v=127&y,w=32-v,j=r.y1-r.y0,b=(r.y+r.y0)*m+(y>>5),N=0;N<j;N++){f=0;for(var z=0;z<=p;z++)e[b+z]|=f<<w|(z<p?(f=x[N*p+z])>>>v:0);b+=m}return delete r.sprite,!0}return!1}(s,r,c)&&(u.push(r),N.call("word",k,r),c?function(t,e){var r=t[0],n=t[1];e.x+e.x0<r.x&&(r.x=e.x+e.x0),e.y+e.y0<r.y&&(r.y=e.y+e.y0),e.x+e.x1>n.x&&(n.x=e.x+e.x1),e.y+e.y1>n.y&&(n.y=e.y+e.y1)}(c,r):c=[{x:r.x+r.x0,y:r.y+r.y0},{x:r.x+r.x1,y:r.y+r.y1}],r.x-=t[0]>>1,r.y-=t[1]>>1)}h>=d&&(k.stop(),N.call("end",k,u,c))}},k.stop=function(){return z&&(clearInterval(z),z=null),k},k.timeInterval=function(t){return arguments.length?(b=null==t?1/0:t,k):b},k.words=function(t){return arguments.length?(j=t,k):j},k.size=function(e){return arguments.length?(t=[+e[0],+e[1]],k):t},k.font=function(t){return arguments.length?(r=f(t),k):r},k.fontStyle=function(t){return arguments.length?(m=f(t),k):m},k.fontWeight=function(t){return arguments.length?(y=f(t),k):y},k.rotate=function(t){return arguments.length?(v=f(t),k):v},k.text=function(t){return arguments.length?(e=f(t),k):e},k.spiral=function(t){return arguments.length?(g=x[t]||t,k):g},k.fontSize=function(t){return arguments.length?(p=f(t),k):p},k.padding=function(t){return arguments.length?(w=f(t),k):w},k.random=function(t){return arguments.length?(_=t,k):_},k.on=function(){var t=N.on.apply(N,arguments);return t===N?k:t},k};var x={archimedean:h,rectangular:function(t){var e=4*t[0]/t[1],r=0,n=0;return function(t){var i=t<0?-1:1;switch(Math.sqrt(1+4*i*t)-i&3){case 0:r+=e;break;case 1:n+=4;break;case 2:r-=e;break;default:n-=4}return[r,n]}}}},3656:function(t,e,r){"use strict";r.d(e,{W:function(){return l}});var n={value:function(){}};function i(){for(var t,e=0,r=arguments.length,n={};e<r;++e){if(!(t=arguments[e]+"")||t in n||/[\s.]/.test(t))throw Error("illegal type: "+t);n[t]=[]}return new o(n)}function o(t){this._=t}function a(t,e,r){for(var i=0,o=t.length;i<o;++i)if(t[i].name===e){t[i]=n,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=r&&t.push({name:e,value:r}),t}o.prototype=i.prototype={constructor:o,on:function(t,e){var r,n=this._,i=(t+"").trim().split(/^|\s+/).map(function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw Error("unknown type: "+t);return{type:t,name:e}}),o=-1,l=i.length;if(arguments.length<2){for(;++o<l;)if((r=(t=i[o]).type)&&(r=function(t,e){for(var r,n=0,i=t.length;n<i;++n)if((r=t[n]).name===e)return r.value}(n[r],t.name)))return r;return}if(null!=e&&"function"!=typeof e)throw Error("invalid callback: "+e);for(;++o<l;)if(r=(t=i[o]).type)n[r]=a(n[r],t.name,e);else if(null==e)for(r in n)n[r]=a(n[r],t.name,null);return this},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new o(t)},call:function(t,e){if((r=arguments.length-2)>0)for(var r,n,i=Array(r),o=0;o<r;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw Error("unknown type: "+t);for(n=this._[t],o=0,r=n.length;o<r;++o)n[o].value.apply(e,i)},apply:function(t,e,r){if(!this._.hasOwnProperty(t))throw Error("unknown type: "+t);for(var n=this._[t],i=0,o=n.length;i<o;++i)n[i].value.apply(e,r)}};var l=i},3224:function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/wordcloud",function(){return r(6142)}])},1651:function(t,e,r){"use strict";r.d(e,{Z:function(){return s}});var n=r(5893);r(7294);var i=r(9871),o=r(8843),a=r(4588);let l={distribution:"Distribution",correlation:"Correlation",ranking:"Ranking",partOfAWhole:"Part Of A Whole",evolution:"Evolution",map:"Map",flow:"Flow",general:"General Knowledge"};function s(t){let{chartFamily:e}=t,r=o.c.filter(t=>t.family===e).map((t,e)=>{let r=(0,a.y)(t.reactURL);return(0,n.jsx)("div",{className:"flex flex-col items-center justify-center",children:(0,n.jsx)(i.Z,{link:r,chartLogo:t.logo,caption:t.label,isAvailable:t.isAvailable,size:129})},e)});return(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:e+"  mt-4 text-md border-b mb-2 border-gray-100 tracking-wider",children:null==l?void 0:l[e]}),(0,n.jsx)("div",{className:"flex flex-row justify-start flex-wrap",children:r})]})}},1122:function(t,e,r){"use strict";r.d(e,{$:function(){return c}});var n=r(5893),i=r(7294),o=r(9973),a=r(8107),l=r(615),s=r(8578);let c=t=>{let{VizComponent:e,vizName:r,height:c=400,maxWidth:d=800,caption:h}=t,[u,f]=(0,i.useState)(!1),x=(0,i.useRef)(null),p=(0,o.B)(x);return(0,n.jsx)("div",{style:{marginLeft:"-50vw",left:"50%"},className:"my-4 py-4 w-screen relative",children:u?(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center w-full",children:[(0,n.jsx)("div",{style:{maxWidth:2e3},className:"w-full z-50",children:(0,n.jsx)(s.X,{vizName:r})}),(0,n.jsx)("div",{className:"flex justify-center mt-2",children:(0,n.jsx)(a.z,{size:"sm",onClick:()=>f(!u),children:"Hide Sandbox"})})]}):(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,n.jsx)("div",{className:"bg-gray-100 bg-opacity-50 w-screen flex justify-center z-50 pointer-events-none",children:(0,n.jsx)("div",{style:{height:c,width:"100%",maxWidth:d},ref:x,className:"pointer-events-auto",children:(0,n.jsx)(e,{height:c,width:p.width})})}),(0,n.jsx)(l.Y,{children:h}),(0,n.jsx)("div",{className:"flex justify-center",children:(0,n.jsx)(a.z,{size:"sm",onClick:()=>f(!u),children:"Show code"})})]})})}},8578:function(t,e,r){"use strict";r.d(e,{X:function(){return i}});var n=r(5893);r(7294);let i=t=>{let{vizName:e}=t;return(0,n.jsx)("iframe",{src:"https://codesandbox.io/embed/github/holtzy/react-graph-gallery/tree/main/viz/"+e+"?fontsize=14&hidenavigation=1&theme=dark&expanddevtools=0",style:{width:"100%",height:"500px",border:"solid",borderWidth:2,borderRadius:"4px",overflow:"hidden"},allow:"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking",sandbox:"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts"})}},153:function(t,e,r){"use strict";r.d(e,{A:function(){return u}});var n=r(5893),i=r(9700),o=r(3476),a=r(7294),l=r(3084),s=r.n(l);function c(){let[t,e]=(0,a.useState)([]),[r,i]=(0,a.useState)(0);return(0,a.useEffect)(()=>{let t=Array.from(document.querySelectorAll("h2"));e(t)},[]),(0,a.useEffect)(()=>{let e=()=>{let e=t.map(t=>t.offsetTop-t.scrollTop+t.clientTop),r=window.scrollY+150,n=e.reduce((t,e)=>Math.abs(e-r)<Math.abs(t-r)?e:t,0),o=e.findIndex(t=>t===n);i(-1===o?0:o)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[t]),(0,n.jsx)("div",{className:s().tableOfContent,children:t.map((e,i)=>(0,n.jsx)("p",{className:r===i?"".concat(s().tocItem," ").concat(s().tocItemActive):s().tocItem,onClick:e=>{e.preventDefault(),t[i].scrollIntoView({behavior:"smooth",block:"start",alignToTop:!0})},children:e.id.charAt(0).toUpperCase()+e.id.slice(1)},e.id))})}var d=r(7414),h=r(2594);let u=t=>{let{children:e,title:r,seoDescription:a}=t;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(d.A,{title:r,seoDescription:a}),(0,n.jsx)("div",{className:"wrapper",children:(0,n.jsx)(i.Z,{})}),(0,n.jsx)("div",{className:"wrapper",children:e}),(0,n.jsx)(h.Z,{}),(0,n.jsx)("div",{className:"wrapper",children:(0,n.jsx)(o.Z,{})}),(0,n.jsx)(c,{})]})}},6438:function(t,e,r){"use strict";r.d(e,{J:function(){return a}});var n=r(5893),i=r(1664),o=r.n(i);let a=t=>{let{children:e,href:r,isFilled:i,size:a="md",isFaded:l}=t,s=r.startsWith("www")||r.startsWith("http"),c="font-normal rounded mr-1 cursor-pointer border-reactGallery border ";i?c+=" bg-reactGallery hover:bg-reactGallery text-white ":c+=" bg-white hover:bg-reactGallery hover:text-white text-reactGallery ","sm"===a&&(c+="text-sm py-1 px-2 "),"md"===a&&(c+="text-md py-2 px-4 "),l&&(c+="opacity-60");let d=(0,n.jsx)("span",{className:c,children:e});return s?(0,n.jsx)("a",{href:r,target:"_blank",children:d}):(0,n.jsx)(o(),{href:r,passHref:!0,children:d})}},9871:function(t,e,r){"use strict";r.d(e,{Z:function(){return c}});var n=r(5893);r(7294);var i=r(5887),o=r(8843),a=r(1664),l=r.n(a);let s=o.c.filter(t=>"general"===t.family).map(t=>t.logo);function c(t){let{chartLogo:e,caption:r,link:o,isAvailable:a,size:c}=t,h=s.includes(e),u=a?"opacity-100":"opacity-20";return(0,n.jsx)(l(),{href:a?o:"subscribe",className:"no-underline",children:(0,n.jsxs)("div",{className:"flex flex-col items-center",children:[(0,n.jsxs)("div",{style:{width:c,height:c},className:"relative mr-2 rounded-full "+u+" "+(a?"cursor-pointer":"cursor-not-allowed"),children:[(0,n.jsx)("div",{className:"absolute",children:(0,n.jsx)(i.Z,{chartLogo:e,size:c})}),h?(0,n.jsx)("div",{className:"absolute opacity-0 hover:opacity-60 flex items-center justify-center w-full h-full z-30",children:(0,n.jsx)(d,{size:c})}):(0,n.jsx)("div",{style:{backgroundColor:"var(--react-gallery)"},className:"opacity-0 hover:opacity-60 flex items-center justify-center w-full h-full rounded-full  z-30",children:(0,n.jsx)("span",{className:"text-white text-4xl",children:"+"})})]}),(0,n.jsx)("p",{className:"font-light text-sm text-gray-600 "+u,children:r})]})})}let d=t=>{let{size:e}=t;return(0,n.jsx)("svg",{version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 100 100",className:"fill-current text-purple-800",children:(0,n.jsx)("path",{d:"M50,0 L100,20 L100,80 L50,100 L0,80 L0,20 Z"})})}},9965:function(t,e,r){"use strict";r.d(e,{Z:function(){return u}});var n=r(5893);r(7294);var i=r(8843),o=r(4588),a=r(1859),l=r(6438),s=r(1832),c=r.n(s);let d=t=>{let{direction:e,text:r,children:i}=t;return(0,n.jsx)("span",{className:c().tooltip+" "+c()[e],id:r,children:i})};var h=r(5887);function u(t){let{title:e,description:r,chartType:s,showSectionLink:c=!1,showInspirationLink:u=!0,showD3GalleryLink:f=!0}=t,x=i.c.find(t=>t.id===s);return(0,n.jsxs)("div",{className:"w-full pt-1 sm:pt-28 pb-20 ",children:[(0,n.jsxs)("div",{className:"flex justify-start items-center",children:[(0,n.jsx)("h1",{children:e}),s&&x&&(0,n.jsx)("div",{className:"w-20 ml-4",children:(0,n.jsx)(h.Z,{chartLogo:null==x?void 0:x.logo})})]}),(0,n.jsx)(a.r,{}),(0,n.jsx)("div",{className:"max-w-xxl  py-2",children:r}),s&&(0,n.jsx)("span",{className:"text-gray-400 text-sm font-light",children:"Useful links"}),x&&(0,n.jsxs)("div",{className:"flex flex-row flex-wrap",children:[c&&(0,n.jsx)(d,{text:"visit related section in the gallery",direction:"bottom",children:(0,n.jsx)(l.J,{href:(0,o.y)(x.reactURL),size:"sm",children:x.label+" section"})}),u&&(0,n.jsx)(d,{text:"Hundreds of stunning dataviz projects to gather inspiration",direction:"bottom",children:(0,n.jsx)(l.J,{href:"https://www.dataviz-inspiration.com/"+x.id,size:"sm",children:"inspiration"})}),f&&(0,n.jsx)(d,{text:"Pure d3 implementation, no React",direction:"bottom",children:(0,n.jsx)(l.J,{href:x.d3URL,size:"sm",children:"d3 gallery"})}),(0,n.jsx)(d,{text:"Dataviz theory about this chart",direction:"bottom",children:(0,n.jsx)(l.J,{href:x.dataToVizURL,isFilled:!0,size:"sm",children:"About this chart"})})]})]})}},8107:function(t,e,r){"use strict";r.d(e,{z:function(){return i}});var n=r(5893);let i=t=>{let{children:e,onClick:r,isFilled:i,size:o="md"}=t,a="rounded m-1 cursor-pointer border-reactGallery border ";return"sm"===o&&(a+="text-sm py-1 px-2"),"md"===o&&(a+="text-md py-2 px-4"),i?a+=" bg-reactGallery hover:bg-reactGallery text-white":a+=" bg-white hover:bg-reactGallery hover:text-white text-reactGallery",(0,n.jsx)("button",{className:a,onClick:r,children:e})}},615:function(t,e,r){"use strict";r.d(e,{Y:function(){return i}});var n=r(5893);let i=t=>{let{children:e}=t;return(0,n.jsx)("p",{className:"text-sm text-gray-500 max-w-xs italic text-center mt-4 font-light",children:e})}},3572:function(t,e,r){"use strict";r.d(e,{d:function(){return d}});var n=r(5893),i=r(6715),o=r(5660),a=r.n(o),l=r(7294),s=r(5993),c=r.n(s);let d=t=>{let{code:e}=t,[r,o]=(0,l.useState)(!1),s=(0,l.useRef)(null);(0,l.useEffect)(()=>{s.current&&a().highlightElement(s.current)},[s,e]);let d=(0,n.jsx)("div",{onClick:()=>{navigator.clipboard.writeText(e),o(!0)},className:c().codeChunckCopyButton,children:r?"Copied":(0,n.jsx)(i.Z,{size:14,style:{padding:0}})});return(0,n.jsxs)("div",{className:"mb-6 relative",children:[(0,n.jsx)("pre",{className:"rounded-md line-numbers",children:(0,n.jsx)("code",{ref:s,className:"language-javascript",children:e})}),(0,n.jsx)("div",{className:c().copyButtonContainer,children:d})]})}},9973:function(t,e,r){"use strict";r.d(e,{B:function(){return i}});var n=r(7294);let i=t=>{let e=()=>({width:t.current?t.current.offsetWidth:0,height:t.current?t.current.offsetHeight:0}),[r,i]=(0,n.useState)(e),o=()=>{i(e())};return(0,n.useEffect)(()=>(window.addEventListener("resize",o),()=>window.removeEventListener("resize",o)),[]),(0,n.useLayoutEffect)(()=>{o()},[t]),r}},6142:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return w}});var n=r(5893),i=r(7294),o=r(153),a=r(9965),l=r(1651),s=r(3572),c=r(1122);let d=["data","wordcloud","science","map","treemap","viz","dataviz","code","react","d3.js","histogram","boxplot","ridgeline","distribution","anova","line","area","stack","streamgraph","polar","barplot","lollipop","sankey","arc","network","choropleth","scale"].map(function(t){return{text:t,value:10+90*Math.random()}});var h=r(6929),u=r.n(h),f=r(8657);let x=t=>{let{width:e,height:r,data:o}=t,[a,l]=(0,i.useState)([]),s=(0,f.BYU)().domain([0,100]).range([12,35]),c=(0,f.cJy)().domain([0,100]).interpolator(f.sN9),d=u()().words(o).timeInterval(100).size([e,r]).fontSize(t=>s(t.value)).padding(10).on("end",t=>{l(t)});return(0,i.useEffect)(()=>{e&&d.start()},[e]),(0,n.jsx)("div",{style:{width:e,height:r,position:"relative"},children:(0,n.jsx)("div",{style:{transform:"translate(".concat(e/2,"px,").concat(r/2,"px)")},children:a.map((t,e)=>(0,n.jsx)("p",{style:{position:"absolute",top:0,left:0,fontSize:t.size,textAnchor:"middle",transform:"translate(".concat(t.x,"px,").concat(t.y,"px)rotate(").concat(t.rotate,"deg)"),color:c(t.value),font:"serif"},children:t.text},e))})})},p=t=>{let{width:e=700,height:r=400}=t;return(0,n.jsx)(x,{width:e,height:r,data:d})};var m=r(1664),y=r.n(m);let v=(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("p",{children:["This page explains how to build a"," ",(0,n.jsx)("a",{href:"https://www.data-to-viz.com/graph/wordcloud.html",children:"wordcloud"})," ","using ",(0,n.jsx)("code",{children:"react"})," and ",(0,n.jsx)("code",{children:"d3.js"}),". It uses the"," ",(0,n.jsx)("a",{href:"https://github.com/jasondavies/d3-cloud",children:"d3-cloud"})," plugin to compute the position of each word, and render them with react."]}),(0,n.jsxs)("p",{children:["This section is rather short as"," ",(0,n.jsx)("a",{href:"https://www.data-to-viz.com/graph/wordcloud.html",children:"I'm not a big fan"})," ","of wordclouds. They can be quite misleading and you should consider building a ",(0,n.jsx)(y(),{href:"/barplot",children:"barplot"})," or a"," ",(0,n.jsx)(y(),{href:"/lollipop-plot",children:"lollipop plot"})," instead."]})]});function w(){return(0,n.jsxs)(o.A,{title:"Wordcloud with React",seoDescription:"How to build a wordcloud with React and D3.js. A set of re-usable components",children:[(0,n.jsx)(a.Z,{title:"Wordcloud",description:v,chartType:"wordcloud"}),(0,n.jsxs)("blockquote",{children:["This page uses the"," ",(0,n.jsx)("a",{href:"https://github.com/jasondavies/d3-cloud",children:"d3-cloud"})," plugin that you can install in your project with"," ",(0,n.jsx)("code",{children:"npm install d3-cloud"})]}),(0,n.jsx)("h2",{id:"data",children:"The Data"}),(0,n.jsxs)("p",{children:["The data is an ",(0,n.jsx)("b",{children:"array"}),". Each item is an object describing a word. Its ",(0,n.jsx)("code",{children:"name"})," is provided, together with a related"," ",(0,n.jsx)("code",{children:"value"})," that will be used to size the word on the final figure."]}),(0,n.jsxs)("p",{children:["Note that you can add ",(0,n.jsx)("b",{children:"any additional property"})," here, like a color, a font weight or anything else that you want to use to draw the word later on."]}),(0,n.jsx)(s.d,{code:g}),(0,n.jsx)("h2",{id:"basic",children:"Most basic wordcloud with React and D3.js"}),(0,n.jsxs)("p",{children:["Everything starts by instantiating a wordcloud layout using the",(0,n.jsx)("code",{children:"d3Cloud()"})," function of the"," ",(0,n.jsx)("a",{href:"https://github.com/jasondavies/d3-cloud",children:"d3-cloud"})," library."]}),(0,n.jsx)(s.d,{code:j}),(0,n.jsxs)("p",{children:["This layout can then be called from a useEffect using"," ",(0,n.jsx)("code",{children:"layout.start()"}),". The layout algorithm will loop through each word of the dataset and try to place them on the chart, avoiding overlaps with other words."]}),(0,n.jsxs)("p",{children:["Once the loop is over, the layout algorithm will produce a"," ",(0,n.jsx)("code",{children:"words"})," object and provide it to the ",(0,n.jsx)("code",{children:"end()"})," ","function. This function update a state that stores the position and feature of each word."]}),(0,n.jsx)("p",{children:"It is thus possible to map through those word features and draw them using html, svg or canvas. Here is an example using HTML"}),(0,n.jsx)("br",{}),(0,n.jsx)(c.$,{VizComponent:p,vizName:"WordcloudBasic",maxWidth:600,height:500,caption:"Most basic Wordcloud made with react and d3.js"}),(0,n.jsxs)("blockquote",{children:[(0,n.jsx)("b",{children:"Todo"}),": write better explanation"]}),(0,n.jsx)("div",{className:"mt-4"}),(0,n.jsxs)("blockquote",{children:[(0,n.jsx)("b",{children:"Todo"}),": the layout algorithm currently provides unperfect values, resulting in a lot of word overlaps. Please tell me if you find where the bug is."]}),(0,n.jsx)("h2",{id:"warning",children:"Warning"}),(0,n.jsx)("p",{children:"Wordclouds are useful for quickly perceiving the most prominent terms. They are widely used in media and well understood by the public. However, they are criticized for 2 main reasons:"}),(0,n.jsxs)("ul",{children:[(0,n.jsx)("li",{children:"Area is a poor metaphor of a numeric value, it is hardly perceive by the human eye"}),(0,n.jsx)("li",{children:"Longer words appear bigger by construction"})]}),(0,n.jsxs)("p",{children:["To put it in a nutshell, wordclouds must be avoided. You can read more about that in"," ",(0,n.jsx)("a",{href:"https://www.data-to-viz.com/graph/wordcloud.html",children:"data-to-viz"}),". Why not consider a ",(0,n.jsx)(y(),{href:"/lollipop-plot",children:"lollipop plot"})," or a"," ",(0,n.jsx)(y(),{href:"/barplot",children:"barplot"})," instead?"]}),(0,n.jsx)("div",{className:"full-bleed border-t h-0 bg-gray-100 my-3 mt-28"}),(0,n.jsx)(l.Z,{chartFamily:"ranking"}),(0,n.jsx)("div",{className:"mt-20"})]})}let g='\nconst data = [\n  { text: "hello", value: 12 },\n  { text: "world", value: 2 },\n];\n'.trim(),j='\nconst layout = d3Cloud()\n  .words(data)\n  .size([width, height])\n  .fontSize((d) => fontSizeScale(d.value))\n  .padding(10)\n  .on("end", (words) => {\n    setWordsPosition(words);\n  });\n'.trim()},5993:function(t){t.exports={codeChunckCopyButton:"code-block_codeChunckCopyButton__yPrL_",copyButtonContainer:"code-block_copyButtonContainer__BrX9E"}},1832:function(t){t.exports={tooltip:"tooltip_tooltip__b_kg5",right:"tooltip_right__zvLDU",left:"tooltip_left__mQ0Xf",bottom:"tooltip_bottom__MVFNa",top:"tooltip_top__kPfp4"}},3084:function(t){t.exports={tableOfContent:"table-of-content_tableOfContent__jj0Ai",tocItem:"table-of-content_tocItem__osS9X",tocItemActive:"table-of-content_tocItemActive__CGMTh"}}},function(t){t.O(0,[3996,8657,3213,645,9774,2888,179],function(){return t(t.s=3224)}),_N_E=t.O()}]);